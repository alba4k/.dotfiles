"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4179],{73533:(e,a,i)=>{i.d(a,{J:()=>Y,IB:()=>m});var t=i(90839),s=i(10797),n=i(64342),r=i(73492),l=i(67973);i(95101),i(42826);let c=function(e){return e.GENERATIVE_AI="generative-ai",e.TRACK_INTERNAL_LINK_RECOMMENDER="track-ilr",e}({}),o=function(e){return e.CONTROL="0",e.VARIANT="1",e}({});var d=i(39293),u=i(20512);const m=(e,a)=>{const i=(0,s.TH)(),m=(0,n.W6)(d._ci),g=(0,r.vI)(l.k.LFC,i),k="track"===a?u.aj:u.M4,p=((e,a)=>(({treatment:e,entityId:a,experimentId:i,treatmentVariation:t})=>{if(e&&e[a]){const s=e[a].find((e=>e.experimentId===i));return s?.treatment===t}return!1})({treatment:e,entityId:a,experimentId:c.GENERATIVE_AI,treatmentVariation:o.VARIANT}))((0,t.v9)(k)||{},e);return p||m===d.nm0.VARIANT||g};var g=i(59496),k=i(42616),p=i(72554),h=i(64796),y=i(78070);function x(e,a,i){try{(0,p.sQ)({metric_type:k.MetricTypes.COUNTER,what:"request-rate",value:1,tags:{endpoint:e,statusCode:a,isFatal:i}}).catch((()=>({})))}catch(e){}}class v extends y.c{build(){const e=super.build();return e.onAfterSend=a=>{let i="unknown",t=!1;if(null!==e.endpointIdentifier&&(t=!0,i=`${e.method} ${e.hostIdentifier||"unknown-host"}::${e.endpointIdentifier}`),a)throw t&&x(i,JSON.stringify(a.status||0),JSON.stringify(0===(e.endpointIdentifier||"").indexOf("/me"))),h.m.fromResponse(a,e.method);if(t){x(i,"200","false");const a=Date.now()-(e.startTimestamp||0);!function(e,a,i){try{(0,p.sQ)({metric_type:k.MetricTypes.TIMER,what:"request-duration",value:i,tags:{endpoint:e,statusCode:a}}).catch((()=>({})))}catch(e){}}(i,"200",k.Time.fromMillis(a).asNanos())}},e}}var N=i(78729);let j=null;class b{static setSession(e){if(!e)return;const{accessToken:a}=e,i=this.getInstance();i.accessToken=a,a||i.resetPendingRequests()}static setLocale(e){this.getInstance().locale=e}static setMarket(e){this.getInstance().market=e}static resetInstance(){j=null}static getInstance(){return j||(j=this.createNew()),j}static createNew(){return new v(N.e)}}var L=i(89642);const I=e=>(0,g.useCallback)((async()=>L.rd.getGeneratedContent(b.getInstance(),e).then((e=>e.body.content))),[e]);var f=i(726),C=i(94),S=i(63840);i(99692);const A="expandable-description-for-seo";var T=i(84875),R=i.n(T);const P="kJFJjpbeZmhT7WG2KjAM",F="gPrYeH86UvcjOx_NQYwp",w="Zf6ONkng2h6eGJg9d4l_",U="G2RRgu_U4ZPugC9x8Vuh",D="BmLmBhY6zS0mTzoMTvQA",E="dvKxmtfViMbQHGD2OUYz",O="LzDWAa70LpBOSMc_ATzA",M="Z5EIr8RoSgmXMt0y9VsS";var B=i(4637);const _=({open:e,content:a})=>{const i=a.slice(0,3),t=a.slice(3);return(0,B.jsxs)(C.D,{as:"ul",className:U,children:[i.map((e=>(0,B.jsxs)(C.D,{as:"li",className:D,variant:"ballad",children:[e,"‎"]},e))),t.map((a=>(0,B.jsxs)(C.D,{as:"li",variant:"ballad",className:R()(D,E,{[O]:e}),"aria-hidden":!e,children:[a,"‎"]},a)))]})},G=({open:e,handleClick:a})=>(0,B.jsx)("button",{className:w,onClick:a,"aria-controls":A,"aria-owns":A,children:(0,B.jsx)(C.D,{variant:"balladBold",className:M,children:e?S.ag.get("show_less"):`…${S.ag.get("show_more")}`})}),K=g.memo((function({content:e}){const[a,i]=(0,g.useState)(!1),t=JSON.parse(e);return t.length<=3?(0,B.jsx)("div",{className:P,children:(0,B.jsx)("ul",{className:F,children:t.map((e=>(0,B.jsx)("li",{children:(0,B.jsx)(C.D,{as:"p",semanticColor:"textSubdued",variant:"ballad",children:e})},e)))})}):(0,B.jsxs)("div",{className:P,"aria-expanded":a,id:A,children:[(0,B.jsx)(_,{open:a,content:t}),(0,B.jsx)(G,{open:a,handleClick:()=>{i(!a)}})]})})),V="tVC0kqa47RaVQswbGMlb",z="MuJCRvpejZ78QxtxndMr",$="zFSqh4BTsowiCKPrd1EN",Y=({title:e,uri:a})=>{const[i,t]=(0,g.useState)(""),s=I(a);return(0,g.useEffect)((()=>{!async function(){try{const e=await s();t(e)}catch(e){}}()}),[s]),i&&0!==i.length?(0,B.jsxs)("div",{className:V,children:[(0,B.jsxs)("div",{className:z,children:[(0,B.jsx)(f.W,{size:"small",semanticColor:"textSubdued",className:$}),(0,B.jsx)(C.D,{variant:"mesto",as:"p",children:S.ag.get("generative-ai.disclaimer")})]}),(0,B.jsx)(C.D,{variant:"canon",as:"h1",semanticColor:"textBase",children:e}),(0,B.jsx)(K,{content:i})]}):null}},75122:(e,a,i)=>{i.r(a),i.d(a,{default:()=>di});i(99692);var t=i(59496),s=i(84875),n=i.n(s),r=i(10797),l=i(94),c=i(40126),o=i(63754),d=i(58776),u=i(63840),m=i(56545),g=i(47166),k=i(55085),p=i(31926),h=i(11021),y=i(50425),x=i(97138),v=i(57860),N=i(57723),j=i(55119);const b="o2TlnuNKxRO5RnB9BpHB",L="q0Ke_aAvTcc4dO4wCHQt",I="UlKUfS_GcROZmofuafOW",f="I5LORTI1u3A6VoUvRCBf",C="TS85Qkpioa31wR0p4kzT",S="yL1DLXBc05CR_ACv_NhA",A="k5kRkUyoz9znqg_SGOVQ";var T=i(82169),R=i(14449),P=i(46474),F=i(96791),w=i(40897),U=i(4637);let D=function(e){return e.SMALL="small",e.LARGE="large",e}({});const E=({art:e,disabled:a=!1,LinkComponent:i,name:t,size:s=D.SMALL,type:c,uri:o})=>{const m=e?[e]:[],g=s===D.SMALL?(0,R.R)(c):function(e){switch(e){case T.albumType.SINGLE:return u.ag.get("track-page.from-the-single");case T.albumType.EP:return u.ag.get("track-page.from-the-ep");case T.albumType.COMPILATION:return u.ag.get("track-page.from-the-compilation");case T.albumType.ALBUM:default:return u.ag.get("track-page.from-the-album")}}(c),k=(0,r.s0)();return(0,U.jsxs)("div",{className:n()(b,{[I]:s===D.SMALL,[L]:a}),children:[(0,U.jsx)("div",{className:f,children:(0,U.jsx)(P.O,{images:m,size:w.m$.SIZE_80,title:t,type:F.p.ALBUM})}),(0,U.jsxs)("div",{className:C,children:[(0,U.jsx)(l.D,{variant:s===D.SMALL?"mestoBold":"finale",children:g}),(0,U.jsx)(i,{to:o,children:(0,U.jsx)(l.D,{as:"div",className:S,variant:"balladBold",dir:"auto",children:t})})]}),(0,U.jsx)("div",{onClick:()=>{k((0,d.EC)(o).toURLPath(!0))},className:A})]})};var O=i(3829),M=i(4722),B=i(86584),_=i(64461);let G=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const K=(0,_.Uy)(((e,a)=>{switch(a.type){case"LYRICS_LOADING":e[a.uri]={status:G.LOADING};break;case"LYRICS_LOADED":e[a.uri]={status:G.LOADED,data:a.response};break;case"LYRICS_ERROR":e[a.uri]={status:G.UNAVAILABLE};break;default:throw new Error(`Unhandled lyrics action with type: ${a.type}`)}}));var V=i(52271),z=i(89642),$=i(64796);const Y={status:G.LOADING},q={status:G.UNAVAILABLE},J=t.createContext(void 0),Z=({children:e,initialState:a={}})=>{const i=t.useReducer(K,a);return(0,U.jsx)(J.Provider,{value:i,children:e})},Q=({uri:e,isAnonymous:a,imageForLyricsRequest:i})=>{const s=t.useContext(J);if(void 0===s)throw new Error("useTrackEntityLyrics must be used within a TrackEntityLyricsProvider");if(!e||!(0,d.wj)(e)||a)return q;const[n,r]=s,l=n[e];return l||(r({type:"LYRICS_LOADING",uri:e}),(async({trackUri:e,api:a,imageForLyricsRequest:i})=>{const t=(0,d.EC)(e);try{const e=await z.Zz.getTrackEntityLyrics(a||V.b.getInstance(),t.id,i||"");return{hasLyrics:!0,syncType:e.lyrics.syncType,lyrics:e.lyrics.lines,provider:e.lyrics.provider,providerDisplayName:e.lyrics.providerDisplayName,providerLyricsId:e.lyrics.providerLyricsId,isRtlLanguage:e.lyrics.isRtlLanguage}}catch(e){if(e instanceof $.m&&404===e.status)return{hasLyrics:!1};throw e}})({trackUri:e,imageForLyricsRequest:i}).then((a=>{r({type:"LYRICS_LOADED",uri:e,response:a})})).catch((()=>{r({type:"LYRICS_ERROR",uri:e})})),Y)};var W=i(67966),H=i(12161),X=i(14033),ee=i(7757),ae=i(57956),ie=i(29532),te=i(11508);const se="oTRKhYD0MZlNPm66W3Tw",ne="sc95MwPalcHwYGZ7j3xN",re="zrCZCfYv4zZiB1HYv9i8",le="RnlxIDmWcYTbbwNSJNjA",ce="SHkxfN1vy0wpRMP1hK7I",oe="COXBS6zLyyxKNYuEAzjZ",de="sR5IpdOUvoUGYKlC9Dk1",ue="FHMr3WxshoYjZ7jd3YwI",me="Evcwc4KM2tf9xrLbfB8B",ge="x4_dsi31Cx2SO1L0uYIj",ke="euPDqfFEBILj9KHDNLC1",pe="x6FPRUKK40oDCPP7g6Ls",he="k3SPcfaKewjfdYumDcGw",ye="t9C7vRiN1OSC9uWfJEr0",xe="Onv6dO4lntCzKUqYa8PE",ve="vHNIIDpwcSLuHumlKDbY",Ne=({richTrack:e})=>{const{search:a}=(0,r.TH)(),i=(0,t.useCallback)((()=>new URLSearchParams(a.slice(1)).get("highlight")||""),[a])(),{tracklistRef:s}=(0,te.W)(),n=e.albumOfTrack,l=(0,ie.Y)(n?.uri||""),{usePlayContextItem:c}=(0,M.n)({uri:l},{featureIdentifier:"album"}),o=(0,t.useMemo)((()=>({items:[],totalCount:0})),[]);return n?(0,U.jsx)("div",{ref:s,className:de,children:(0,U.jsx)(ae.L,{ariaLabel:n.name,nrTracks:n.tracks.totalCount,albumUri:n.uri,highlightUri:i,discs:o,usePlayContextItem:c,hasHeaderRow:!1})}):null};var je=i(245),be=i(75479),Le=i(47833),Ie=i(53972),fe=i(96754),Ce=i(33088),Se=i(55742),Ae=i(65926);const Te=t.memo((function({uri:e,togglePlay:a,isPlaying:i,isActive:s,spec:n,logger:r,backgroundColor:l,name:c,isPlayable:o,albumUri:d,artists:k}){const p=(0,Se.o)(),h=(0,Ae.k)(),[N,j]=(0,fe.Z)(e),b=(0,t.useCallback)((async()=>{p({targetUri:e,intent:N?"unsave":"save",type:"click"});const a=n.saveButtonFactory();r.logInteraction(N?a.hitRemoveLike({itemNoLongerLiked:e}):a.hitLike({itemToBeLiked:e}));try{await j(!N)}catch{}}),[p,e,N,n,r,j]),L=(0,t.useCallback)((()=>{const t=(0,x.aK)({isPlaying:i,isActive:s,spec:n.playButtonFactory(),logger:r,uri:e});a({loggingParams:t})}),[s,i,r,n,a,e]),I=(0,t.useCallback)((()=>{r.logInteraction(n.contextButtonFactory().hitUiReveal())}),[r,n]),f=(0,Ce.j)();return(0,U.jsx)(je.o,{backgroundColor:l,children:(0,U.jsxs)(je.F,{children:[(0,U.jsx)(g.rn,{children:(0,U.jsx)(y.$,{onClick:L,isPlaying:i,disabled:!o,size:f,uri:e})}),(0,U.jsx)(g.rn,{children:(0,U.jsx)(be.H,{isAdded:!!N,onClick:b,disabled:!h,size:f})}),(0,U.jsx)(Le.o,{uri:e,isFollowing:!!N,onFollow:b,size:f}),(0,U.jsx)(v.yj,{menu:(0,U.jsx)(m.$,{uri:e,albumUri:d,artists:k}),onShow:I,children:(0,U.jsx)(Ie.z,{label:u.ag.get("more.label.context",c),size:f})})]})})})),Re="OH5mnpJIVCJozYM3raMt",Pe="etw0slM6uVrCi5RR3iDi",Fe=({padded:e,providerDisplayName:a})=>a?(0,U.jsx)(l.D,{as:"p",dir:"auto",variant:"finale",className:`${Re} ${e?Pe:""}`,children:u.ag.get("web-player.lyrics.providedBy",a)}):null,we=({uri:e,imageForLyricsRequest:a})=>{const{data:i}=Q({uri:e,imageForLyricsRequest:a});return i?.hasLyrics?(0,U.jsx)(Fe,{providerDisplayName:i.providerDisplayName}):null};var Ue=i(90839),De=i(63961);const Ee="QhDsXG1Gmo7XmQWLggAO",Oe="bZgWQj7UxvK8GYKWDA7N",Me="AW61P3tnW5cKJCWtbhFh",Be=({buttonText:e,onSecondaryButtonClick:a,onPrimaryButtonClick:i,secondaryButtonText:t,text:s})=>(0,U.jsxs)("div",{className:Ee,"data-testid":"static-activation-trigger",children:[(0,U.jsx)(l.D,{className:Oe,variant:"cello",children:s}),(0,U.jsxs)("div",{className:Me,children:[(0,U.jsx)(c.o,{onClick:a,semanticColor:"textBase",children:t}),(0,U.jsx)(De.D,{onClick:i,colorSet:"invertedLight",children:e})]})]});var _e=i(94989);const Ge="T1nqQ4HEh3heHy4RCCKa",Ke="L8zjshPVgUMXyZR4FtOk",Ve="YMn1FWcFmOz9osBrNvhF",ze="Inbyq3TnvKDOJtcKFTDQ",$e="lWk5se4WETUOJwaEb8D6",Ye="i8DyQbWCmDV_8N5XGJQT",qe="t5WPFlGTY6GCd9UOFfLu",Je="AGQ3wRyMVK1odq860qnT",Ze="ZX_r7uZgPgssaUplfpxT",Qe="qrqctaPu2XBpxsw23nPX",We="XnWidTagai3nQwMPxIMF";var He=i(3e3),Xe=i(86206);let ea=function(e){return e.SMALL="small",e.LARGE="large",e}({});const aa=e=>{const{disabled:a,images:i,LinkComponent:t,name:s,size:c,uri:o,enableI18nRoutes:m,enableI18nAdditionalPages:g}=e,k=c===ea.SMALL,p=(0,r.s0)(),h=(0,d.EC)(o),y=h?.type,x=u.ag.getLocaleForURLPath(),v=(0,He.S9)({localeFeatureFlag:m,entityFeatureFlag:g,urlLocale:x,entity:y,type:"link"});return(0,U.jsxs)("div",{className:n()(Ke,{[Ve]:a}),"data-testid":"track-artist-link-card",children:[(0,U.jsx)(P.O,{shape:P.K.CIRCLE,images:i,size:w.m$.SIZE_80,title:s,type:F.p.ARTIST}),(0,U.jsxs)("div",{className:n()($e,{[Ye]:k}),children:[(0,U.jsx)(l.D,{variant:"mestoBold",className:ze,children:u.ag.get("card.tag.artist")}),(0,U.jsx)(t,{to:o,children:(0,U.jsx)(l.D,{as:"div",dir:"ltr",className:qe,variant:"balladBold",children:s})})]}),(0,U.jsx)("div",{onClick:()=>{const e=h?.toURL(`/${Xe.F0}${x}/`);if(h){const a=v?e:h.toURLPath(!0);p(a)}},className:Je})]})},ia=({size:e=ea.LARGE,disabled:a=!1,enableI18nRoutes:i,enableI18nAdditionalPages:s,...r})=>{const[o,d]=(0,t.useState)(!1),m=(0,t.useCallback)((()=>{d(!o)}),[o]),g=r.artists;return(0,U.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,U.jsx)("div",{className:Ge,children:g.map(((t,l)=>(0,U.jsx)("div",{className:n()({[Qe]:o&&l>5,[Ze]:l>5}),children:(0,U.jsx)(aa,{name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:r.LinkComponent,disabled:a,enableI18nRoutes:i,enableI18nAdditionalPages:s},t.id)},`${t.uri}-${l}`)))}),g.length>6&&(0,U.jsx)(c.o,{onClick:m,className:We,children:(0,U.jsx)(l.D,{as:"p",variant:"violaBold",children:o?u.ag.get("show_less"):u.ag.get("mwp.search.artists.all")})})]})};var ta=i(12878);const sa="EaTxqhHk6J4ecKHwpY5m",na="dUQl9yd5x_1oWk4L0Ntm",ra="xt5C47eHPYNiriMJxGnC",la=({words:e})=>(0,U.jsx)(l.D,{as:"p",dir:"auto",variant:"ballad",className:ra,children:e});var ca=i(27453);const oa=({data:e,eventSender:a,isPlaying:i,playbackId:s,uri:n})=>{const{lyrics:r=[],provider:c,providerLyricsId:o,syncType:d}=e,m=function(e){const{uri:a,provider:i,providerLyricsId:s,syncType:n,eventSender:r,isPlaying:l,playbackId:c}=e,[o,d]=(0,t.useState)(!1),u=(0,t.useMemo)((()=>(0,ca.N)({lyrics_format:"track-page",track_uri:a,provider:i,provider_lyrics_id:s,sync_type:n,playback_id:l?c:void 0})),[a,i,s,n,l,c]);return(0,t.useCallback)((()=>{o||(r?.send(u),d(!0))}),[u,r,o])}({uri:n,provider:c,providerLyricsId:o,syncType:d,eventSender:a,isPlaying:i,playbackId:s});return(0,t.useEffect)((()=>{m()}),[m]),(0,U.jsxs)("div",{className:sa,children:[(0,U.jsx)(l.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:na,children:u.ag.get("web-player.lyrics.title")}),r.map((({words:e},a)=>(0,U.jsx)(la,{words:e},`lyrics-seo-line-${a}`)))]})};var da=i(50183),ua=i(18682),ma=i(42370);const ga=({uri:e,imageForLyricsRequest:a})=>{const{data:i}=Q({uri:e,imageForLyricsRequest:a}),t=(0,ma.s4)(),{isPaused:s,currentTrackUri:n,playbackId:r}=(0,da.Y)((e=>({isPaused:e?.isPaused,currentTrackUri:e?.item?.uri,playbackId:e?.playbackId})),ua.V),l=!s&&n===e;return i&&i?.hasLyrics?(0,U.jsx)(oa,{data:i,uri:e,eventSender:t,isPlaying:l,playbackId:r}):null};var ka=i(51208),pa=i(43602);const ha=e=>{const{albumArtists:a,columnCount:i,imageForLyricsRequest:s,uri:r}=e,l=i-2,c={"--column-count":i,"--left-column-end":l-2,"--right-column-start":l},{isAnonymous:o}=(0,Ue.v9)(pa.Gg),d=(0,Ae.k)(),{data:m,status:g}=Q({uri:r,isAnonymous:o,imageForLyricsRequest:s}),k=!!m&&m.hasLyrics&&g!==G.UNAVAILABLE||o,p=(0,Ue.v9)(ka.br),h=(0,Ue.v9)(ka.yE);return(0,U.jsxs)(t.Suspense,{fallback:null,children:[k&&(0,U.jsx)("div",{className:n()(re,{[le]:i>5}),style:{...c},"data-testid":"lyrics-container",children:o?(0,U.jsx)(Be,{buttonText:u.ag.get("sign_up"),secondaryButtonText:u.ag.get("login"),text:u.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:ta.L6,onSecondaryButtonClick:ta.h$}):(0,U.jsx)(ga,{uri:r,imageForLyricsRequest:s})}),(0,U.jsx)("div",{className:n()(se,{[ne]:i>5&&k}),style:{...c},children:(0,U.jsx)(ia,{artists:a,LinkComponent:_e.default,disabled:!d,enableI18nRoutes:p,enableI18nAdditionalPages:h})})]})};var ya=i(27293),xa=i(10443),va=i(55272),Na=i(92197),ja=i(46304),ba=i(98226),La=i(5788),Ia=i(66931),fa=i(70216),Ca=i(96613),Sa=i(50807),Aa=i(74714),Ta=i(34278),Ra=i(65354),Pa=i(18078),Fa=i(88258);const wa="Z9Dr8PkXFtlO8KnnDcxp",Ua="Bm0LUMlhVIcF5qusgdUP",Da="GIyB7JDkRwjtVL6PSBbg",Ea="whTIka0YYAkqhqrs26Wa",Oa=t.memo((function({uri:e,name:a,imgUrl:i,artists:t,isExplicit:s,index:n,albumUri:r,contextUri:l,isPlayable:c,usePlayContextItem:o,isMOGEFRestricted:d,totalMilliseconds:g,playcount:k}){const{isActive:p,isPlaying:h,triggerPlay:y,togglePlay:x}=o({uri:e,index:n}),v=(0,Ia._)(e),N=(0,Aa.k)(e,c),j=t.map((e=>e.name)).join(u.ag.getSeparator()),{badges:b,hasBadges:L}=(0,fa.r)({isMOGEFRestricted:d,downloadAvailability:v,isExplicit:s}),I=t.map((e=>e.name)).join(u.ag.getSeparator()),f=(0,Sa.E)();return(0,U.jsx)(La.JL,{value:"row",index:n,children:(0,U.jsx)(va._,{menu:(0,U.jsx)(m.$,{uri:e,albumUri:r,artists:t,contextUri:l}),children:(0,U.jsxs)(Fa.c,{uri:e,contextUri:l,isPlayable:N,onTriggerPlay:(e,a)=>{y({loggingParams:a})},isActive:p,index:n,ariaRowIndex:n,dragMetadata:{name:a,createdBy:j},children:[(0,U.jsxs)(Ra.vZ,{ariaColIndex:0,children:[(0,U.jsx)(Ra.VG,{uri:e,src:i,onClick:(e,a)=>{x({loggingParams:a})},isLocked:!1,isPlaying:h,isActive:p,playAriaLabel:u.ag.get("tracklist.a11y.play",a,j)}),(0,U.jsxs)(Ra.vm,{children:[(0,U.jsx)(Ta.G,{uri:e,enabled:f,className:Da,children:(0,U.jsx)(Ra.Wh,{titleText:a,children:a})}),L&&(0,U.jsxs)(Ra.g3,{children:[b.download&&(0,U.jsx)(Na.G,{}),b.explicit&&(0,U.jsx)(ja.N,{}),b.nineteen&&(0,U.jsx)(ba.X,{className:Ea,size:16})]}),(0,U.jsx)(Ra.K9,{children:(0,U.jsx)(Ra.T6,{artists:t})})]})]}),(0,U.jsx)(Ra.UA,{ariaColIndex:1,children:(0,U.jsx)(Pa.B,{playcount:k})}),(0,U.jsxs)(Ra.mU,{ariaColIndex:2,children:[(0,U.jsx)(Ca.f,{uri:e}),(0,U.jsx)(Ra.A$,{duration:g}),(0,U.jsx)(Ra.Zv,{menu:(0,U.jsx)(m.$,{uri:e,albumUri:r,contextUri:l,artists:t}),label:u.ag.get("more.label.track",a,I)})]})]})})})}),((e,a)=>e.uri===a.uri&&e.index===a.index));var Ma=i(38149);const Ba={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"internalLinkRecommenderTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"strategy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SEORankingStrategy"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoRecommended"},arguments:[{kind:"Argument",name:{kind:"Name",value:"seoRecommendedInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"strategy"},value:{kind:"Variable",name:{kind:"Name",value:"strategy"}}},{kind:"ObjectField",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ilrTrackData"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ilrTrackData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]};var _a=i(62699);const Ga=e=>{return a=e,"NotFound"!==a?.__typename&&"GenericError"!==a?.__typename&&"Track"===e.__typename;var a},Ka=t.memo((function({strategy:e,uri:a}){const{data:i}=(s={uri:a,strategy:e},(0,Ma.a)(Ba,s,n));var s,n;const r=i?.seoRecommended.items,c=(0,t.useMemo)((()=>r?.slice(0,Math.min(r.length,5))),[r]),o=(0,t.useCallback)((e=>"uri"in e.data?e.data.uri:""),[]),d=(0,t.useMemo)((()=>[_a.QD.TITLE_AND_ARTIST,_a.QD.ALBUM,_a.QD.DURATION]),[]),m=(r||[])?.map((e=>Ga(e.data)?{...e.data,provider:null,type:F.p.TRACK,uid:null}:{type:F.p.TRACK,uri:"",uid:null,provider:null})),g=(0,ie.Y)(a),{usePlayContextItem:k}=(0,M.n)({uri:g,pages:[{items:m}]},{featureIdentifier:"track"}),p=(0,t.useCallback)(((e,i)=>{if(!Ga(e.data))return(0,U.jsx)(t.Fragment,{});const s=e.data;return(0,U.jsx)(Oa,{index:i,contextUri:a,uri:s.uri,name:s.name,totalMilliseconds:s.duration.totalMilliseconds,imgUrl:s.albumOfTrack?.coverArt?.sources[0].url,isPlayable:s.playability.playable,artists:s.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:s?.albumOfTrack?.uri,isExplicit:s.contentRating?.label===X.KS.Explicit,isMOGEFRestricted:s.contentRating?.label===X.KS.NineteenPlus,usePlayContextItem:k,playcount:parseInt(s.playcount||"0",10)},`${i}-${s.uri}`)}),[a,k]);return r?.length?(0,U.jsxs)("div",{className:wa,children:[(0,U.jsxs)("div",{className:Ua,children:[(0,U.jsx)(l.D,{variant:"canon",semanticColor:"textBase",children:u.ag.get("playlist.extender.recommended.title")}),(0,U.jsx)(l.D,{variant:"mesto",paddingBottom:xa.o7,children:u.ag.get("internal-link-recommender.based-on-this-song")})]}),(0,U.jsx)(_a.Pv,{ariaLabel:u.ag.get("playlist.extender.recommended.title"),nrTracks:Math.min(r.length,5),rowPlaceholder:_a.hU,tracks:c,renderRow:p,resolveUri:o,columns:d},"internal-link-recommender-track-list")]}):null}));var Va=i(17598),za=i(99107);const $a=({album:e,index:a,artistURI:i})=>(0,U.jsx)(La.JL,{value:"card",index:a,children:(0,U.jsx)(za.i,{index:a,latest:!1,showType:!0,...(0,Va.B$)(e,i,e.name)})});var Ya=i(26055);const qa=({albums:e,artistName:a,artistId:i,artistUri:t,className:s})=>e?(0,U.jsx)(La.JL,{value:"shelf/albums",children:(0,U.jsx)(Ya.P,{total:e.totalCount,title:u.ag.get("rich-page.popular-albums-by-artist",{artist:a}),seeAllUri:`${(0,Va.GJ)(i)}:discography:${X.VZ.Album.toLowerCase()}`,seeAllLabel:u.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:s,children:(0,Va.Hr)(e.items).map(((e,a)=>(0,U.jsx)($a,{album:e,index:a,artistURI:t},e.uri)))})}):null;var Ja=i(85802);const Za=({artistId:e,className:a,fansAlsoLike:i,title:t})=>(0,U.jsx)(La.JL,{value:"shelf/fans-also-like",children:(0,U.jsx)(Ya.P,{total:i.length,title:t??u.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,Va.GJ)(e)}:related`,className:a,children:i.map(((e,a)=>(0,U.jsx)(La.JL,{value:"card",index:a,children:(0,U.jsx)(Ja.I,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})});var Qa=i(1047);const Wa="ERm7dIKbVoqGwPb_lXPH",Ha=({artistName:e,artistUri:a,headerClassName:i,rowClassName:s,topTracks:n,topTracksTransformer:r,uri:c})=>{const o=(0,t.useMemo)((()=>n?.items.map((e=>r(e,c)))),[n?.items,r,c]),{usePlayContextItem:d}=(0,M.n)({uri:a},{featureIdentifier:"artist"});return o&&o.length>0?(0,U.jsxs)("div",{className:s,children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(l.D,{variant:"mesto",className:Wa,children:u.ag.get("rich-page.popular-tracks")}),(0,U.jsx)(l.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:i,children:e})]}),(0,U.jsx)(Qa.k,{nrTracks:o.length,initialTracks:o,usePlayContextItem:d})]}):null},Xa=({artistName:e,artistId:a,artistUri:i,className:t,releases:s,artistImages:n})=>s?(0,U.jsx)(La.JL,{value:"shelf/releases",children:(0,U.jsx)(Ya.P,{total:10,title:u.ag.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,Va.GJ)(a)}:discography:${X.VZ.Album.toLowerCase()}`,seeAllLabel:u.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,listRowHeaderProps:n?{title:e,pretitle:u.ag.get("artist-page.popular"),media:(0,H.o)(n,{desiredSize:48})||""}:null,children:s.items.map(((e,a)=>(0,U.jsx)($a,{album:e,index:a,artistURI:i},e.uri)))})}):null,ei=({artistId:e,artistName:a,artistUri:i,className:t,singles:s})=>s?(0,U.jsx)(La.JL,{value:"shelf/singles-and-eps",children:(0,U.jsx)(Ya.P,{total:s.totalCount,title:u.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:a}),seeAllUri:`${(0,Va.GJ)(e)}:discography:${X.VZ.Single.toLowerCase()}`,seeAllLabel:u.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,children:(0,Va.Hr)(s.items).map(((e,a)=>(0,U.jsx)($a,{album:e,index:a,artistURI:i},e.uri)))})}):null;var ai=i(47424),ii=i(39359),ti=i(66352),si=i(81563),ni=i(73533),ri=i(605);const li=e=>(e.items||[]).map((e=>({name:e.profile.name,images:(e.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.uri,id:e.id}))),ci=e=>(e||[]).map((e=>e.profile.name)),oi=({uri:e,track:a})=>{const i=(0,Ae.k)(),s=(0,ti.g)(),d=(0,ii.k)({type:"locale",uri:e}),h=u.ag.getLocaleForTranslation(),b=parseInt(a.playcount||"0",10),{firstArtist:L,otherArtists:I,albumOfTrack:f,duration:C,name:S}=a,A=f?.coverArt,T=f?.copyright.items,R=f?.courtesyLine,P=f?.date?.isoString,F=A?.extractedColors?.colorRaw.hex,w=(A?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),O={uri:f?.uri||"",name:f?.name||""},{trackId:_=""}=(0,r.UO)(),G=(0,ni.IB)(_,"track");(0,ai.W)(e);const K=ci(L.items),V=ci(I.items),z=li(L),$=li(I),Y=[...z,...$],q=L.items[0],J=a.albumOfTrack,Q=J?.playability?.playable,ae={artistId:q?.id,artistName:q?.profile?.name,artistUri:q?.uri},te=a.albumOfTrack?.coverArt?.sources,se=(0,H.o)(te||void 0,{desiredLabel:"large",desiredSize:600})??te?.[0]?.url??"",[ne,re]=(0,t.useState)(!1),le=(0,t.useCallback)((()=>{re(!ne)}),[ne]),de=I&&I.items.length>5,{spec:je,logger:be}=(0,W.fU)(o.createDesktopTrackEventFactory,{data:{uri:e}}),Le=a.playability.playable,Ie=(0,ie.Y)(e),{togglePlay:fe,isPlaying:Ce,isActive:Se}=(0,M.n)({uri:Ie},{featureIdentifier:"track"}),Re=(0,t.useCallback)((()=>(0,B.Zs)({i18n:u.ag,trackArtistsList:[...K,...V].join(u.ag.getSeparator()),trackName:a.name,shouldLocalize:d})),[K,V,d,a.name]),Pe=(0,t.useCallback)(((e,a)=>{be.logInteraction(je.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[be,je]),Fe=(0,t.useCallback)((()=>{const a=(0,x.aK)({isPlaying:Ce,isActive:Se,spec:je.actionBarFactory().playButtonFactory(),logger:be,uri:e});fe({loggingParams:a})}),[Se,Ce,be,je,fe,e]),Ue=J?.uri,De=(0,t.useMemo)((()=>[...L.items,...I.items].map((e=>({uri:e.uri,name:e.profile.name})))),[L.items,I.items]),Ee=(0,U.jsx)(m.$,{uri:e,albumUri:Ue,artists:De});return(0,U.jsxs)("section",{"data-testid":"track-page",children:[(0,U.jsx)(ya.$,{children:Re()}),(0,U.jsxs)(g.gF,{backgroundColor:F,children:[(0,U.jsxs)(k.W,{children:[(0,U.jsx)(y.$,{size:"medium",onClick:Fe,disabled:!Le,isPlaying:Ce,uri:e}),(0,U.jsx)(p.i,{text:S,dragUri:e,dragLabel:S})]}),(0,U.jsx)(v._P,{menu:Ee,children:(0,U.jsx)(g.Oz,{dragUri:e,images:w,name:S,placeholderType:"album"})}),(0,U.jsxs)(g.sP,{children:[(0,U.jsx)(l.D,{variant:"mestoBold",children:u.ag.get("song")}),(0,U.jsx)(v._P,{menu:Ee,children:(0,U.jsx)(g.xd,{dragUri:e,dragLabel:S,children:S})}),(0,U.jsx)(g.QS,{creators:z,releaseDate:P,durationMilliseconds:C.totalMilliseconds,onCreatorClick:Pe,isTrack:!0,album:O,playcount:b})]})]}),(0,U.jsx)(Te,{uri:e,togglePlay:fe,isPlaying:Ce,isActive:Se,spec:(0,t.useMemo)((()=>je.actionBarFactory()),[je]),logger:be,backgroundColor:F,name:S,isPlayable:Le,albumUri:Ue,artists:De}),(0,U.jsxs)(Z,{children:[(0,U.jsxs)("div",{className:"contentSpacing",children:[(0,U.jsx)("div",{className:ce,children:(0,U.jsx)(j.T,{render:({columnCount:a})=>(0,U.jsx)(ha,{imageForLyricsRequest:se,albumArtists:Y,columnCount:a,uri:e})})}),(0,U.jsx)(Ka,{strategy:X.JI.ContentOnly,uri:a.uri}),(0,U.jsx)(Ha,{artistName:q.profile.name,artistUri:q.uri,headerClassName:me,rowClassName:ce,topTracks:q.discography.topTracks,topTracksTransformer:si.X7,uri:a.uri}),(0,U.jsx)(Xa,{className:ue,releases:q?.discography?.popularReleasesAlbums,...ae}),(0,U.jsx)(qa,{albums:q?.discography?.albums,className:ue,...ae}),(0,U.jsx)(ei,{className:ue,singles:q?.discography?.singles,...ae}),I&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:ke,children:I.items.map(((e,a)=>(0,U.jsx)(Xa,{className:n()(ge,{[he]:a>4,[ye]:ne&&a>4}),releases:e.discography.popularReleasesAlbums,artistName:e.profile.name,artistId:e.id,artistUri:e.uri,artistImages:e.visuals.avatarImage?.sources},e.id)))}),de&&(0,U.jsx)(c.o,{onClick:le,className:xe,children:(0,U.jsx)(l.D,{as:"h2",variant:"violaBold",children:ne?u.ag.get("show_less"):u.ag.get("mwp.search.artists.all")})}),(0,U.jsx)(Za,{artistId:q.id,className:n()(ue,{[pe]:I.items.length>0}),fansAlsoLike:q.relatedContent.relatedArtists.items,title:u.ag.get("artist-page.fansalsolike")})]}),J&&(0,U.jsx)(E,{art:J.coverArt?.sources[0],disabled:!Q||!i,LinkComponent:_e.default,name:J.name,type:J.type,size:D.LARGE,uri:J.uri}),(0,U.jsx)(Ne,{richTrack:a})]}),(0,U.jsxs)("div",{className:"contentSpacing",children:[(0,U.jsxs)("div",{className:oe,children:[P&&(0,U.jsx)(l.D,{as:"p",variant:"mesto",className:ve,children:(0,ee.BI)((0,ee.RX)(P),h,{year:"numeric",month:"long",day:"numeric"})}),(0,U.jsx)(N.k,{copyrights:T||[],courtesyLine:R}),!s&&(0,U.jsx)(we,{uri:e,imageForLyricsRequest:se})]}),G&&(0,U.jsx)(ni.J,{uri:e,title:u.ag.get("generative-ai.track.title")})]})]})]})},di=(0,t.memo)((function(){const{trackId:e=""}=(0,r.UO)(),a=(0,d.tn)(e).toURI(),i=(0,ri.QN)({uri:a});return i.loading||i.error||"Track"!==i.data?.trackUnion?.__typename?(0,U.jsx)(h.h,{hasError:!i.loading,errorMessage:u.ag.get("track-page.error")}):(0,U.jsx)(O.fd,{surface:O.Tg.TRACK,uris:[a,i.data.trackUnion.albumOfTrack?.uri??null],children:(0,U.jsx)(oi,{uri:a,track:i.data.trackUnion})})}))},47424:(e,a,i)=>{i.d(a,{W:()=>c});var t=i(59496),s=i(90839),n=i(50807),r=i(74019),l=i(20512);const c=e=>{const a=(0,s.I0)(),i=(0,n.E)(),c=(0,s.v9)(l.KQ);(0,t.useEffect)((()=>{i&&e!==c&&a((0,r.jZ)(e))}),[e,c,a,i])}},20512:(e,a,i)=>{i.d(a,{KQ:()=>r,M4:()=>c,aj:()=>l});var t=i(23055),s=i(96791);const n=e=>e.seoExperiment,r=(0,t.P1)(n,(e=>e?.uri)),l=(0,t.P1)(n,(e=>e?.[s.p.TRACK])),c=(0,t.P1)(n,(e=>e?.[s.p.ALBUM]))},57723:(e,a,i)=>{i.d(a,{k:()=>r});i(99692);var t=i(94);const s="rTMkDBDp47Eo12ZEQv4U";var n=i(4637);const r=({copyrights:e,courtesyLine:a})=>{const i=(e||[]).map(((e,a)=>{const i=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let s;return s="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,n.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:`${s} ${i}`},a)}));return a&&i.unshift((0,n.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:a},i.length)),(0,n.jsx)("div",{className:s,children:i})}},73492:(e,a,i)=>{i.d(a,{vI:()=>t});i(99692);const t=(e,a)=>{const i=a?new URLSearchParams(a.search):void 0;return"1"===i?.get(e)}},67973:(e,a,i)=>{i.d(a,{k:()=>t});let t=function(e){return e.I18nSEO="i18nSEO",e.RTPTrackCredits="rtpv2p2",e.I18nAdditionalPages="i18nap",e.RichPlaylistPages="rpp",e.LFC="lfc",e}({})}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map