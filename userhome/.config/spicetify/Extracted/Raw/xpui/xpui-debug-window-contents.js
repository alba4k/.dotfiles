"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[983],{14036:(e,t,s)=>{s.d(t,{l:()=>u});var n=s(97500),a=s.n(n);const r="x-toggle-wrapper",i="x-toggle-indicator",l="JCFCfOY_6UEZZSOO2xrl",o="x-toggle-indicatorWrapper",c="x-toggle-input";var d=s(86070);const u=({value:e,disabled:t,onSelected:s,id:n,className:u,condensed:h=!1,inputRef:m})=>(0,d.jsxs)("label",{className:a()(r,u),children:[(0,d.jsx)("input",{id:n,className:c,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;s(t)},ref:m}),(0,d.jsx)("span",{className:a()(o,{[l]:h}),children:(0,d.jsx)("span",{className:a()(i,{[l]:h})})})]})},8569:(e,t,s)=>{s.d(t,{DebugWindowContents:()=>Or});var n=s(30758),a=s(97500),r=s.n(a),i=s(61495),l=s(42039),o=s(54084),c=s(84591),d=(s(99974),s(60348)),u=s(88751),h=s(81939),m=s(22355),p=s(86228),x=s(48945),g=s(86677),j=s(95530),v=s(93374),f=s(2142),y=s(45695),b=s(27241);const N=(0,y.h)();window.abba={get:async function(e,t){const s=new f.EW((0,b.X)()),n=(await s.getValues(f.kM.fromPartial({}))).pairs;let a={},r="";if(n.abbaOverrides?r=n.abbaOverrides:n.abbaoverrides&&(r=n.abbaoverrides),r)try{a=JSON.parse(r)}catch(e){console.error(`error parsing value=${r}, error=${e}`)}if(Object.prototype.hasOwnProperty.call(a,e))return console.warn(`Abba: Override for ${e} : ${a[e]}`),void setTimeout((()=>t(null,a[e])),0);N.post("sp://abba/v1/flags",{flags:[e]}).then((s=>{const{flags:n=[]}=s,a=n[0]&&n[0].featureName===e&&n[0].cell;t(null,a||null)})).catch((e=>{t(e)}))},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),N.get("sp://abba/v1/all_flags").then((t=>{const{flags:s=[]}=t,n=s.reduce(((e,t)=>(e[t.featureName]=t.cell,e)),{});e(null,JSON.stringify(n,null,2))})).catch((t=>{e(t)}))},getRequestedFlagNames:function(e){N.get("sp://abba/v1/requested_flag_names").then((t=>{e(null,JSON.stringify(t.sort(),null,2))})).catch((t=>{e(t)}))}};var w=s(737);const C=function(){const[e,t]=(0,n.useState)();return{adMocks:e,getAdMocks:(0,n.useCallback)((async()=>w.D.getMocksList().then((e=>{t(e.body.test_cases)}))),[])}},S="rh7v8PDNC0ke2OkkyRhk",A="Kh0jtEAjRK83Z5A_IZRx";var k=s(86070);const E=()=>{const e=e=>60*e,[t,s]=(0,n.useState)(e(20)),[a,r]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[o,c]=(0,n.useState)(""),[f,y]=(0,n.useState)((new Date).toISOString()),[b,N]=(0,n.useState)({message:"",status:"success"}),[E,I]=(0,n.useState)(!1),{adMocks:O,getAdMocks:R}=C(),P=({message:e,isError:t})=>{N({message:e,status:t?"error":"success"}),I(!0),setTimeout((()=>I(!1)),5e3)},T=(0,n.useCallback)((e=>{w.D.clearSlot(e).then((()=>{P({message:`${e} cleared`,isError:!1})}))}),[]),_=(0,n.useCallback)((e=>{w.D.debug(`increaseStreamTime(${e} : Seconds)`),s(e),w.D.increaseStreamTime(e).then((()=>{P({message:`${e} seconds of stream time added`,isError:!1})})).catch((e=>{P({message:`Error increasing stream time: ${e}`,isError:!0})}))}),[]);return(0,n.useEffect)((()=>{R().then((()=>{P({message:"Ad mocks fetched",isError:!1})})).catch((()=>{P({message:"Ad mocks fetch failed",isError:!0})}))}),[R]),(0,k.jsxs)("div",{className:S,children:[(0,k.jsx)(d.qb,{colorSet:"error"===b.status?"negative":"brightAccent",showSnackbar:E,children:b.message}),(0,k.jsx)(u.Z,{as:"h1",variant:"forte",paddingBottom:"24px",children:"Ad Debug Tools"}),(0,k.jsx)(u.Z,{as:"h2",variant:"alto",paddingBottom:"8px",children:"Increase Stream Time"}),(0,k.jsx)(h.g,{label:"Quick add stream time",children:(0,k.jsx)("div",{className:A,children:(0,k.jsxs)(m.I,{mode:"action",layout:"single-line","aria-label":"Stream time presets",children:[(0,k.jsx)(p.v,{variant:"contrasting",onClick:()=>_(e(1)),children:"Add 1 min"}),(0,k.jsx)(p.v,{variant:"contrasting",onClick:()=>_(e(20)),children:"Add 20 mins"}),(0,k.jsx)(p.v,{variant:"contrasting",onClick:()=>_(e(40)),children:"Add 40 mins"}),(0,k.jsx)(p.v,{variant:"contrasting",onClick:()=>_(e(60)),children:"Add 1 hour"})]})})}),(0,k.jsxs)(h.g,{label:"Custom stream time in seconds",children:[(0,k.jsx)("div",{className:A,children:(0,k.jsx)(x.Z,{onChange:e=>s(e.currentTarget.value),placeholder:"seconds",value:t,type:"number",min:0})}),(0,k.jsx)("div",{className:A,children:(0,k.jsxs)(g.$,{size:"small",onClick:()=>_(t),children:["Add ",t," seconds (~ ",(D=t,Math.round(Number(D)/60))," minutes)"]})})]}),(0,k.jsx)(u.Z,{as:"h2",variant:"alto",paddingBottom:"8px",children:"Fetch ad from Ad Mocker"}),(0,k.jsxs)(h.g,{label:"Enqueue ad json directly into pod",children:[(0,k.jsxs)("div",{className:A,children:[(0,k.jsx)(j.E,{as:"label",htmlFor:"adMockerSessionId",variant:"bodyMedium",children:"Session ID"}),(0,k.jsx)(x.Z,{name:"adMockerSessionId",type:"text",value:f,onChange:e=>y(String(e.currentTarget.value))})]}),(0,k.jsx)("div",{className:A,children:(0,k.jsxs)(v.F,{value:o,onChange:e=>{c(e.currentTarget.value)},children:[(0,k.jsx)("option",{disabled:!0,value:"",children:"Choose a mock"}),O?.map((e=>(0,k.jsxs)("option",{value:e.name,children:[e.name," (",e.group,")"]},e.name)))]})}),(0,k.jsx)(g.$,{size:"small",onClick:()=>{w.D.fetchAdAndEnqueue(o,f).then((()=>{P({message:`${o} inserted`,isError:!1})})).catch((e=>{P({message:`Error inserting ${o}: ${e}`,isError:!0})}))},children:"Insert ad directly"})]}),(0,k.jsx)(u.Z,{as:"h2",variant:"alto",paddingBottom:"8px",children:"Override Country"}),(0,k.jsxs)(h.g,{label:"Calls testingClient.requestOverride with country key",children:[(0,k.jsx)("div",{className:A,children:(0,k.jsxs)(v.F,{value:i,onChange:e=>{l(e.currentTarget.value)},children:[(0,k.jsx)("option",{disabled:!0,value:"",children:"Choose a country"}),(0,k.jsx)("option",{value:"AU",children:"Australia"}),(0,k.jsx)("option",{value:"BR",children:"Brasil"}),(0,k.jsx)("option",{value:"JP",children:"Japan"}),(0,k.jsx)("option",{value:"SE",children:"Sweden"}),(0,k.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,k.jsx)("option",{value:"US",children:"USA"}),(0,k.jsx)("option",{value:"NZ",children:"New Zealand"}),(0,k.jsx)("option",{value:"",children:"Clear"})]})}),(0,k.jsx)(g.$,{size:"small",onClick:()=>{w.D.overrideCountry(i).then((e=>{0===e.status?P({message:`${i} override successful`,isError:!1}):P({message:`Error overriding country: ${e.status}`,isError:!0})}))},children:"OVERRIDE COUNTRY"})]}),(0,k.jsx)(u.Z,{as:"h2",variant:"alto",paddingBottom:"8px",children:"Clear Slot"}),(0,k.jsxs)(h.g,{label:"Calls slotsClient.clearAllAds for the selected slot",children:[(0,k.jsx)("div",{className:A,children:(0,k.jsxs)(v.F,{value:a,onChange:e=>{r(e.currentTarget.value)},children:[(0,k.jsx)("option",{disabled:!0,value:"",children:"Choose a slot"}),(0,k.jsx)("option",{value:"leaderboard",children:"leaderboard"}),(0,k.jsx)("option",{value:"sponsored-playlist",children:"sponsored playlist"}),(0,k.jsx)("option",{value:"billboard",children:"billboard"}),(0,k.jsx)("option",{value:"hpto",children:"hpto"}),(0,k.jsx)("option",{value:"stream",children:"stream"})]})}),(0,k.jsx)(g.$,{size:"small",onClick:()=>{""!==a?T(a):P({message:"Please select a slot",isError:!0})},children:"CLEAR SLOT"})]}),(0,k.jsx)(u.Z,{as:"h2",variant:"alto",paddingBottom:"8px",children:"Trigger Stream Slot"}),(0,k.jsx)(h.g,{label:"Calls slotsClient.createSlot, adds 20 mins, puts targeting in focus",children:(0,k.jsx)(g.$,{size:"small",onClick:()=>{w.D.queueVideoAd().then((e=>{const t=e[0];t.error?P({message:`Error queuing video ad: ${t?.error}`,isError:!0}):P({message:"Video queued in stream slot",isError:!1})}))},children:"Queue Video Ad"})})]});var D};var I=s(74985),O=s(70581),R=s(14237),P=s(50111),T=s(41594),_=s(81670),D=s(60006),U=s(7859),M=s(20791);const L={tableContainer:"TgLcw_ZdaHvESkPEgYLQ",collapsed:"zNGegc8KwsTw3SQKHf_u",tableTitle:"qMSX_Pybr996fZcayagh",tableToggle:"YS6d6BNlR28mEtkxH07w",table:"vDxH9w6xk7bHMabZsuhj",tableHead:"sEU19oMM1YAICdZY23E5",rowHeader:"Cw3H6ooohrEJbRFy9cdg",rowName:"W0HCTspPvFScLWQ9QyJq",rowValue:"WM3ogL7MpxKR0Ym_n9qw",rowActions:"DQhZfpOIasfYMfhSltgB",propertyDescription:"iTrSMSnZF2Sr2pAGcj21",rowAction:"gQCLM4Et4LueQCIi2zW9",rowControl:"f9VIhAIG3YgquVQZqHZ5"},F=({title:e,titleExtra:t,rows:s,cols:a,canCollapse:i=!1,isCollapsedInitially:l=!1,renderHead:o=!1,renderRow:c})=>{const[d,u]=(0,n.useState)(!!i&&l);return(0,k.jsxs)(T.K,{className:r()(L.tableContainer,{[L.collapsed]:d}),children:[e?(0,k.jsxs)("div",{className:L.tableTitle,onClick:()=>{i&&u(!d)},children:[i?(0,k.jsx)("button",{className:L.tableToggle,children:d?(0,k.jsx)(_.V,{size:"small"}):(0,k.jsx)(D.r,{size:"small"})}):null,(0,k.jsx)("h3",{children:e}),t]}):null,(0,k.jsxs)(U.X,{className:L.table,children:[(0,k.jsx)("colgroup",{children:a.map(((e,t)=>(0,k.jsx)("col",{width:e.width,className:e.className},t)))}),o?(0,k.jsx)("thead",{children:(0,k.jsx)("tr",{children:a.map(((e,t)=>(0,k.jsx)(M.M,{className:L.tableHead,children:e.name},t)))})}):null,(0,k.jsx)("tbody",{children:Array.isArray(s)?s.map((e=>c?c(e,a):null)):s})]})]})};var B=s(27102);function V(){const e=(0,B.ox)();return(0,n.useMemo)((()=>e?new e.Function("value","if (value) { navigator.clipboard.writeText(value) }"):()=>{}),[e])}var H=s(87182),z=s(7307);const J="YMcjds_NcAi4cEbmH8CQ",W="gh0JfRJ_O4dLCEdAjNVw",$="Txtj4xKE3LxMG2u23BIV",Y="qJy0FbUBMTQ6CejUVLKy",Z="C58BICAHtIsDaVKzFpyb",q="SdB9m1NLh7FZ1mMfQsAR",G="SxRUmP6Y0IRW1aJijfU5",K="BWvIH314t4_hcIDb2onA",Q="ayzSMCWwex0kqdHjRr3Y",X=[{language:"en",uri:"spotify:audio:50PZU7JmDySDzojKzTapDx"},{language:"fr-CA",uri:"spotify:audio:0j61Bw8ZF9wfyW65Cpugt9"}],ee=new Intl.DisplayNames(["en"],{type:"language"}),te=({language:e,uri:t})=>{const s=(0,H.z)(),n=V();return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:e}),(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:ee.of(e)}),(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:t}),(0,k.jsxs)(O.n,{className:L.rowActions,children:[(0,k.jsx)("button",{className:L.rowAction,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{type:z.c.UNKNOWN,uri:t,uid:t,provider:"context",metadata:{title:"Spotify",image_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-300.jpg",image_small_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-64.jpg",image_large_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-640.jpg",image_xlarge_url:"https://spotify-tap.spotifycdn.com/npv/quickstart-pivot-artwork-640.jpg","actions.advancing_past_track":"stop"}}]}],restrictions:{disallowPausingReasons:["narration"],disallowResumingReasons:["narration"],disallowSeekingReasons:["narration"],disallowSkippingPreviousReasons:["narration"],disallowSkippingNextReasons:["narration"],disallowTogglingRepeatContextReasons:["narration"],disallowTogglingRepeatTrackReasons:["narration"],disallowTogglingShuffleReasons:["narration"],disallowAddToQueueReasons:["narration"],disallowSetQueueReasons:["narration"],disallowSettingPlaybackSpeedReasons:["narration"]}},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"},{skipTo:{index:0}})},children:(0,k.jsx)(R.A,{size:"small"})}),(0,k.jsx)("button",{className:L.rowAction,onClick:()=>{n(t)},children:(0,k.jsx)(P._,{size:"small"})})]})]})},se=()=>(0,k.jsx)(F,{title:"Consumption Cap Audio Disclaimer",rows:X,cols:[],renderRow:e=>(0,k.jsx)(te,{...e},e.uri),canCollapse:!0}),ne=()=>(0,k.jsx)("div",{className:J,children:(0,k.jsx)(se,{})});var ae=s(72680);const re="UX08Irxg3ssZhLQNj40b",ie=()=>{const e=V(),t=(0,ae.Y)(),s=t.token?.accessToken??"Not authorized",n=new Date(t.token?.accessTokenExpirationTimestampMs??0);return(0,k.jsx)("div",{className:re,children:(0,k.jsx)(F,{title:"Authorization",rows:[{name:"Token",value:s},{name:"Expires At",value:n.toLocaleString()},{name:"Retry Attempt",value:t.retryAttempt?.toString()??"N/A"},{name:"Retry At",value:t.retryAt?.toLocaleString()??"N/A"}],cols:[{width:"30%"},{},{width:"16px"}],renderRow:({name:t,value:s})=>(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:t}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:s}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>e(s),children:(0,k.jsx)(P._,{size:"small"})})})]})})})};var le=s(79237);const oe="A83S2dzV013Y19VLxbRT",ce=({name:e,value:t})=>{const s=V();return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:e}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:t}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>s(t),children:(0,k.jsx)(P._,{size:"small"})})})]})},de=({device:e})=>(0,k.jsx)(F,{title:e.name,rows:[{name:"Device",value:e?.name},{name:"Identifier",value:e.id},{name:"Type",value:e.type},{name:"Group",value:e.isGroup.toString()},{name:"Local",value:e.isLocal.toString()},{name:"Active",value:e.isActive.toString()},{name:"Connecting",value:e.isConnecting.toString()},{name:"Disabled",value:e.isDisabled.toString()},{name:"Volume",value:e.volume.toString()},{name:"HiFi",value:e.losslessSupport.deviceSupported.toString()}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,k.jsx)(ce,{...e}),canCollapse:!0,isCollapsedInitially:!0}),ue=()=>{const{connectionStatus:e,devices:t}=(0,le.v)((e=>({connectionStatus:e.connectionStatus,devices:e.devices})));return(0,k.jsxs)("div",{className:oe,children:[(0,k.jsx)(F,{title:"Connect",rows:(0,k.jsx)(ce,{name:"Status",value:e}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),t.map((e=>(0,k.jsx)(de,{device:e},e.id)))]})};var he=s(74159),me=s(94185),pe=s(84172),xe=s(49281),ge=s(89796),je=s(11418),ve=s(34900),fe=s(88170),ye=s(66144),be=s(260),Ne=s(26823),we=s(99576),Ce=s(87150),Se=s(8143),Ae=s(22726),ke=s(97848),Ee=s(23041),Ie=s(79871),Oe=s(65503),Re=s(10502),Pe=s(53133),Te=s(32255),_e=s(69624),De=s(97844),Ue=s(34613),Me=s(32999);const Le="wJTo6UR1k7MEB2qA3J6Q",Fe=({loading:e,uri:t,type:s,title:n,subtitle:a,coverArt:r})=>{const i=(0,Me._)(),l=V(),{enqueueSnackbar:o}=(0,Pe.d)();return(0,k.jsx)(ke.v,{id:t,variant:"naked",leading:(0,k.jsx)(De.s,{type:s,semanticColor:"textSubdued",size:"small"}),media:(0,k.jsx)(Te.b,{fadeIn:!0,images:i(r?.sources,48),shape:Be(t),size:_e.Qe.SIZE_48,iconSize:"medium",type:s??He(t),title:n??"",color:(0,Ue.m)(r?.extractedColors),loadingMode:"eager",className:Le}),title:e?(0,k.jsx)(Re.Y,{as:"div",variant:"bodyMediumBold",charCount:10,isLoading:!0}):(0,k.jsx)(Ee.d,{lineClamp:2,children:n??t}),subtitle:e&&Ve(t)?(0,k.jsx)(Re.Y,{as:"div",variant:"bodySmall",charCount:15,isLoading:!0}):(0,k.jsx)(Ie.j,{hasTextSeparator:!0,lineClamp:2,children:a}),trailing:(0,k.jsx)(Oe.H,{iconOnly:P._,label:"Copy URI to clipboard",onClick:()=>{l(t),o("URI copied to clipboard")}})})};function Be(e){return(0,Ae.ecE)(e)||(0,Ae.APS)(e)?Te.u.CIRCLE:Te.u.ROUNDED_CORNERS}function Ve(e){return!((0,Ae.ecE)(e)||(0,Ae.APS)(e)||(0,Ae.lyd)(e))}function He(e){const t=(0,Ae.o_h)(e)?.type;switch(t){case Ae.NQG.TRACK:return z.c.TRACK;case Ae.NQG.ALBUM:return z.c.ALBUM;case Ae.NQG.ARTIST:return z.c.ARTIST;case Ae.NQG.PLAYLIST:case Ae.NQG.PLAYLIST_V2:return z.c.PLAYLIST;case Ae.NQG.SHOW:return z.c.SHOW;case Ae.NQG.EPISODE:return z.c.EPISODE;case Ae.NQG.PROFILE:return z.c.USER;case Ae.NQG.CONCERT:return z.c.CONCERT;default:return z.c.UNKNOWN}}var ze=s(24909),Je=s(31417),We=s(57776),$e=s(59147);const Ye=new We.l("decorateDebugEntityListRowEntities","query","861c56569f6e3f9b582f58762b2aaf572a354e3481da106907b4be5295e5cdb1",null);var Ze=s(13719),qe=s(85907);function Ge(e){const{data:t,loading:s}=(a={uris:e},r={gcTime:18e5,enabled:!!e.length,placeholderData:ze.rX},(0,$e.I)(Ye,a,r));var a,r;return(0,n.useMemo)((()=>({entitiesByUri:Object.fromEntries(t?.lookup.map(Ke).filter(Ze.P).map((e=>[e.uri,e]))??[]),loading:s})),[t?.lookup,s])}function Ke(e){switch(e.__typename){case"AlbumResponseWrapper":return"Album"===e.data.__typename?{uri:e.data.uri,type:z.c.ALBUM,title:e.data.name,subtitle:e.data.artists.items.map((e=>e.profile.name)).join(Je.Ru.getSeparator()),coverArt:e.data.coverArt}:null;case"ArtistResponseWrapper":return"Artist"===e.data.__typename?{uri:e.data.uri,type:z.c.ARTIST,title:e.data.profile.name,subtitle:null,coverArt:e.data.visuals.avatarImage}:null;case"ConcertResponseWrapper":return"Concert"===e.data.__typename?{uri:e.data.uri,type:z.c.CONCERT,title:e.data.title,subtitle:null,coverArt:e.data.image}:null;case"EpisodeOrChapterResponseWrapper":return"Chapter"===e.data.__typename?{uri:e.data.uri,type:z.c.CHAPTER,title:e.data.name,subtitle:"Audiobook"===e.data.audiobookV2.data.__typename?e.data.audiobookV2.data.authors.map((e=>e.name)).join(Je.Ru.getSeparator()):null,coverArt:e.data.coverArt}:"Episode"===e.data.__typename?{uri:e.data.uri,type:z.c.EPISODE,title:e.data.name,subtitle:"Podcast"===e.data.podcastV2.data.__typename?[e.data.podcastV2.data.name,e.data.podcastV2.data.publisher?.name??null].filter(Ze.P):[],coverArt:e.data.coverArt}:null;case"PlaylistResponseWrapper":return"Playlist"===e.data.__typename?{uri:e.data.uri,type:z.c.PLAYLIST,title:e.data.name,subtitle:e.data.followers?Je.Ru.get("saves",e.data.followers):null,coverArt:e.data.images.items.at(0)??null}:null;case"PodcastOrAudiobookResponseWrapper":return"Audiobook"===e.data.__typename?{uri:e.data.uri,type:z.c.AUDIOBOOK,title:e.data.name,subtitle:e.data.authors.map((e=>e.name)).join(Je.Ru.getSeparator()),coverArt:e.data.coverArt}:"Podcast"===e.data.__typename?{uri:e.data.uri,type:z.c.SHOW,title:e.data.name,subtitle:e.data.publisher?.name??null,coverArt:e.data.coverArt}:null;case"TrackResponseWrapper":return"Track"===e.data.__typename?{uri:e.data.uri,type:z.c.TRACK,title:e.data.name,subtitle:[e.data.artists.items.at(0)?.profile.name??null,e.data.albumOfTrack?.name??null].filter(Ze.P),coverArt:e.data.albumOfTrack?.coverArt??null}:null;case"UserResponseWrapper":return"User"===e.data.__typename?{uri:e.data.uri,type:z.c.USER,title:e.data.name,subtitle:null,coverArt:e.data.avatar}:null;case"GenreResponseWrapper":case"MerchResponseWrapper":case"PreReleaseResponseWrapper":case"UnknownTypeWrapper":return null;default:(0,qe.k)(e)}return null}const Qe=({uri:e})=>{const{entitiesByUri:t,loading:s}=Ge([e]);return(0,k.jsx)(Fe,{loading:s,...t[e],uri:e})},Xe=new RegExp(String.raw`
  \b                      # only match parts that start at a word boundary
  (?:
    (?:
      (?:
          https?://(?:open|play).spotify.com
          | spotify
        )
        ([:/])
        (?:
          (                   # all standard entity types that are preceded by
                              # "spotify" and followed by a 22-char base 62 id
            track
            | album
            | artist
            | show
            | episode
            | playlist
            | concert
          )
          | (?:
              user\1[^\1]+\1(    # playlist v1 uri:s that contain usernames
                playlist
              )
            )
        )
        \1
      )
      ([0-9a-zA-Z]{22})         # standard 22-char base 62 id
    | (?:
        (?:
          https?://(?:open|play).spotify.com
          | spotify
        )
        ([:/])(user)\5
          (
            (?:
              [A-Za-z0-9\-._~!$&'()*+,;=]  # valid unescaped username characters
              | %[0-9A-Fa-f]{2}             # escaped username characters
            )+
          )
      )
  )
  \b                            # only match parts that end at a word boundary
`.replace(/(?<!\\)\s|#.*.*/g,""),"ig");var et=s(92483),tt=s(85823),st=s(7315);const nt=({view:e,className:t})=>{const s=(0,n.useCallback)((t=>{(0,Ne.TS)(e,t.nativeEvent,"search-panel")&&t.preventDefault()}),[e]),a=(0,n.useCallback)((t=>{e.dispatch({effects:fe.Ri.of(new fe.L0({search:t}))})}),[e]),r=(0,n.useCallback)((()=>{(0,fe.jO)(e)}),[e]),i=(0,n.useRef)(null);return(0,n.useEffect)((()=>{e.dispatch({effects:fe.Ri.of(new fe.L0({search:""}))}),i.current?.select()}),[e]),(0,k.jsx)("div",{className:t,children:(0,k.jsx)(et.E,{iconLeading:(0,k.jsx)(tt.C,{}),iconTrailing:(0,k.jsx)(st.M,{onClick:()=>r()}),children:(0,k.jsx)(x.Z,{ref:i,onKeyDown:e=>s(e),onChange:e=>a(e.currentTarget.value)})})})};var at=s(12564);function rt(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function it(e,t,s=[]){let n=0;for(const a of Object.getOwnPropertyNames(e))t(e,a,s)?n++:rt(e[a])&&(n+=it(e[a],t,[a,...s]));return n}function lt(e,t){return void 0===e[t]&&(e[t]={},!0)}function ot(e,t){return!(!Array.isArray(e[t])||0!==e[t].length)&&(e[t]=[{}],!0)}function ct(e,t){return!(!Array.isArray(e[t])||1!==e[t].length||!rt(e[t][0])||0!==Object.getOwnPropertyNames(e[t][0]).length)&&(e[t]=[],!0)}function dt(e,t){return!(!rt(e[t])||0!==Object.getOwnPropertyNames(e[t]).length)&&(e[t]=void 0,!0)}function ut(e,t,s){return!(!s.some((e=>/policy/i.test(e)))||!1!==e[t])&&(delete e[t],!0)}function ht(e,t,s={}){let n=0;do{n=it(t=e.fromPartial(t),lt),n+=it(t,ot)}while(n>0);return it(t,dt),it(t,ct),!0===s.cleanPolicies&&it(t,ut),t}const mt=["spotify:artist:5INjqkS1o8h1imAzPqGZBb","spotify:album:79dL7FLiJFOO0EoehUHQBv","spotify:track:6K4t31amVTZDgR3sKmwUJJ","spotify:show:1OLcQdw2PFDPG1jo3s0wbp","spotify:episode:0VpyIy8Srg5IKQdRAbDDH1"],pt=Object.values(at.UH).filter((e=>"string"==typeof e)).map((e=>({name:e,value:(0,at.SP)(e)})));function xt(e,t){let s=0;const n=[];if(t.type.is("["))t.parent();else if(t.type.is("Property")){if(!t.firstChild())return[];n.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}for(;t.parent()&&!t.type.is("JsonText");){if(t.type.is("Array"))n.unshift("[]");else if(t.type.is("Property")){if(!t.firstChild())break;n.unshift(e.sliceDoc(t.from+1,t.to-1)),t.parent()}if(++s>1e4)break}return n}function gt(e,t){for(const s of t)if("[]"===s){if(!Array.isArray(e)||0===e.length)return null;e=e[0]}else Object.hasOwn(e,s)&&(e=e[s]);return e}function jt(e={}){return(0,pe.yU)({activateOnTyping:!1,override:[t=>{const s=(0,je.mv)(t.state).cursorAt(t.pos,-1);if(s.type.is("{")||s.type.is("Object")){const n=xt(t.state,s),a=function(e,t){return Object.getOwnPropertyNames(gt(e,t))}(e,n);return{from:t.pos,options:a.map((e=>({type:"text",label:e,apply:`"${e}"`})))}}if(s.type.is("[")||s.type.is("Array")){const n=xt(t.state,s),a=gt(e,n);return Array.isArray(a)&&rt(a[0])?{from:t.pos,options:[{type:"text",label:"{ ... }",apply:JSON.stringify(a[0]),boost:1},{type:"text",label:"{}",boost:0}]}:/extension/i.test(n[n.length-1])?{from:t.pos,options:pt.map((({name:e,value:t})=>({type:"constant",label:e,apply:`${t}`})))}:{from:t.pos,options:mt.map((e=>({type:"text",label:`"${e}"`})))}}if(s.type.is("Property")){const n=xt(t.state,s),a=function(e,t){const s=gt(e,t);return void 0===s?"null":Array.isArray(s)?"array":typeof s}(e,n),r=[];if("boolean"===a)r.push({type:"keyword",label:"true",boost:1}),r.push({type:"keyword",label:"false",boost:0});else if("null"===a)r.push({type:"keyword",label:"null",boost:1}),r.push({label:"{}",apply:"{}",boost:0});else if("string"===a){r.push({label:'""'});for(const e of mt)r.push({label:`"${e}"`})}else if("number"===a)if(/extension/i.test(n[n.length-1]))for(const{name:e,value:t}of pt)r.push({type:"constant",label:e,apply:`${t}`});else r.push({label:"0",apply:"0"}),r.push({label:"10",apply:"10"}),r.push({label:"100",apply:"100"});else"object"===a?r.push({label:"{}",apply:"{}"}):"array"===a&&r.push({label:"[]",apply:"[]"});return{from:t.pos,options:r}}return null}]})}const vt=[be.bM,(0,je.y9)(be.kS),(0,Ne.$K)(),(0,Ne.dz)(),(0,Ne.Wu)(),(0,Ne.VH)(),ye.$t.allowMultipleSelections.of(!0),Ne.w4.of([...xe.pw,...xe.cL,...pe.OO,...fe.Eo,xe.Yc]),(0,fe.$P)({top:!0,createPanel:e=>{const t=e.dom.ownerDocument.createElement("div");return(0,we.H)(t).render((0,k.jsx)(Ce.ID,{target:e.dom.ownerDocument.head,children:(0,k.jsx)(nt,{view:e})})),{dom:t,top:!0}}}),(0,je.Lv)(),(0,ge.Pq)()],ft=[...vt,(0,xe.b6)(),(0,ve.bu)((0,ge.cp)()),(0,je.WD)(),(0,je.SG)(),(0,pe.wm)()],yt=[...vt,ye.$t.readOnly.of(!0)],bt=new ye.xx,Nt=({readOnly:e=!1,onChange:t,onDiagnostics:s,editorRef:a,className:r})=>{const i=(0,n.useRef)(null),{extension:l,tooltip:o}=function(){const[e,t]=(0,n.useState)(null),[s,a]=(0,n.useState)(null);return{tooltip:s&&e?(0,Se.createPortal)((0,k.jsx)(Qe,{uri:e}),s):null,extension:(0,n.useMemo)((()=>(0,Ne.Ux)(((e,s)=>{const{from:n,text:r}=e.state.doc.lineAt(s),i=s-n,l=Array.from(r.matchAll(Xe)).find((({0:e,index:t})=>i>=t&&i<=t+e.length));if(!l)return null;const{0:o,index:c}=l,d=(0,Ae.o_h)(o)?.toURI();return d?{pos:n+c,end:n+c+o.length,above:!0,create(){const e=document.createElement("div");return e.style.maxWidth="400px",e.style.minHeight="64px",e.style.whiteSpace="initial",t(d),a(e),{dom:e}}}:null}))),[])}}();return(0,n.useEffect)((()=>{const n=new Ne.Lz({parent:i.current,extensions:[...e?yt:ft,bt.of(jt({})),Ne.Lz.updateListener.of((e=>{e.docChanged&&t?.(e.state.doc.toString());for(const t of e.transactions)for(const e of t.effects)e.is(ve._k)&&s?.(e.value)})),l]});return void 0!==a&&(a.current=n),()=>{n.destroy()}}),[e,t,s,a,l]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:r,ref:i}),o]})};function wt({readOnly:e,className:t,onChange:s,onDiagnostics:a}){const r=(0,n.useRef)(),i=(0,n.useRef)(s),l=(0,n.useRef)(a);i.current=s,l.current=a;const o=(0,n.useCallback)((()=>{const e=r.current;return void 0!==e?e.state.doc.toString():null}),[]),c=(0,n.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({changes:{from:0,to:t.state.doc.length,insert:e}})}),[]),d=(0,n.useCallback)((e=>{const t=r.current;void 0!==t&&t.dispatch({effects:bt.reconfigure(jt(e))})}),[]),u=(0,n.useCallback)((e=>{i?.current?.(e)}),[]),h=(0,n.useCallback)((e=>{l?.current?.(e)}),[]);return{Editor:(0,k.jsx)(Nt,{editorRef:r,readOnly:e,className:t,onChange:u,onDiagnostics:h}),getContent:o,setContent:c,setReference:d}}var Ct=s(21504),St=s(14728),At=s(91960),kt=s(34576),Et=s(94990),It=s(28675),Ot=s(60587),Rt=s(244),Pt=s(29286),Tt=s(26316),_t=s(30012),Dt=s(76864),Ut=s(91114),Mt=s(98570),Lt=s(47899),Ft=s(966),Bt=s(50815),Vt=s(65640),Ht=s(85649),zt=s(56445),Jt=s(17700),Wt=s(79664),$t=s(28571),Yt=s(84036),Zt=s(45761),qt=s(61375),Gt=s(44645),Kt=s(35063),Qt=s(1528),Xt=s(41880),es=s(35192),ts=s(93657),ss=s(63396),ns=s(52196),as=s(42762),rs=s(48454),is=s(78754),ls=s(95621),os=s(97568),cs=s(18790),ds=s(55549);const us=[Ct.B,St.ve,At.Pc,kt.BM,Tt.CJ,Tt.NB,Tt.uC,Tt.RI,Tt.UF,Tt.FY,Tt.B3,Tt.Dt,Tt.s,Tt.Xk,Tt.Yl,Et.r,It.pt,Ot.MI,Rt.J1,Pt.di,_t.BO,Dt.Pm,Ut.Ww,Mt._w,Lt.rM,Lt.A5,Lt.qM,Ft.hN,Bt.NI,Vt.lb,Ht.xo,zt.IU,f.EW,Jt.oW,Wt.Gy,$t.LN,Yt.HG,ds._4,Zt.Ag,qt._,Gt.y9,Kt.A,Qt.J4,Xt.xV,es.hA,ts.f_,ss.Ms,ns.NH,as.$A,at.sp,rs.GD,is.to1,is.hm7,is.hb0,is.Bl$,is.ZxE,os.aA,cs.FZ,ls.zW];function hs(e){return JSON.parse(e,((e,t)=>null===t?void 0:t))}function ms(e){return JSON.stringify(e,((e,t)=>void 0===t?null:"bigint"==typeof t?t.toString():t),2)}function ps(){const{serviceMap:e,serviceNames:t}=(0,n.useMemo)((()=>{const e=function(e){return us.sort(((e,t)=>e.SERVICE_ID.localeCompare(t.SERVICE_ID))).reduce(((t,s)=>(t[s.SERVICE_ID]={methods:s.METHODS,client:new s(e)},t)),{})}((0,b.X)());return{serviceMap:e,serviceNames:Object.keys(e)}}),[]),[s,a]=(0,n.useState)(t[0]),r=e[s].methods,i=e[s].client,l=Object.keys(r),[o,c]=(0,n.useState)(l[0]),d=r[o].requestType,u=r[o].isStreaming,h=i[o],m=(0,n.useCallback)(((t,s)=>{const n=t??Object.keys(e)[0],r=e[n].methods,i=s??Object.keys(r)[0];a(n),c(i)}),[e,a,c]),p=(0,n.useMemo)((()=>ms(ht(d,{},{cleanPolicies:!0}))),[d]),x=(0,n.useMemo)((()=>ht(d,{})),[d]),g=(0,n.useCallback)((e=>{try{return ms(ht(d,hs(e),{cleanPolicies:!0}))}catch(t){return e}}),[d]),j=(0,n.useCallback)((async(e,t)=>{const s=d.fromPartial(hs(e));if(u)return h.call(i,s,(e=>{t(ms(e))}));const n=await h.call(i,s);return t(ms(n)),null}),[i,u,d,h]);return{services:t,methods:l,service:s,method:o,client:i,message:d,call:j,jsonReference:x,jsonString:p,prettify:g,update:m}}const xs="k0haAXLr7hf1SVRhhDf_",gs="JzYBuC4I28TFE0vRsOB2",js="Jifrv_M5FQ_4004rxNlX",vs="ai8gaZdopia8aUEGYxks",fs="sSRpW8Sztpp8r_xEe6yQ",ys="xoLDWOSxKz7zqi5PkIS1",bs="GuzyU8s8JXVn4PKEcz1o",Ns=()=>{const{services:e,methods:t,service:s,method:a,call:r,jsonReference:i,jsonString:l,prettify:o,update:c}=ps(),d=(0,n.useRef)(null),[u,h]=(0,n.useState)(!1),[m,p]=(0,n.useState)([]),x=m.length>0,{Editor:g,setContent:v,getContent:f,setReference:y}=wt({className:bs,onDiagnostics:e=>p(e)}),{Editor:b,setContent:N}=wt({className:bs,readOnly:!0}),w=(0,n.useCallback)((()=>{null!==d.current&&(d.current.cancel(),d.current=null,h(!1))}),[h]),C=(0,n.useCallback)((async()=>{w();const e=await r(f()??"{}",(e=>{N(e)}));null!==e&&(d.current=e,h(!0))}),[r,w,f,N]),S=(0,n.useCallback)((async()=>{const e=o(f()??"{}");v(e)}),[o,f,v]);(0,n.useEffect)((()=>{y(i),v(l),N(""),w()}),[y,i,v,l,N,w]);const A=[{label:"Core",options:e.filter((e=>-1===e.indexOf("desktop"))).map((e=>({label:e,value:e})))},{label:"Desktop",options:e.filter((e=>-1!==e.indexOf("desktop"))).map((e=>({label:e,value:e})))}],E=t.map((e=>({label:e,value:e})));return(0,k.jsxs)("div",{className:xs,children:[(0,k.jsxs)("div",{className:gs,children:[(0,k.jsx)(j.E,{as:"p",variant:"bodyMedium",children:"Endpoint"}),(0,k.jsx)(me.Ay,{value:{label:s,value:s},options:A,onChange:e=>{c(e?.value??void 0)},styles:{menuList:t=>({...t,minHeight:`min(60vh, ${50*e.length}px)`})}}),(0,k.jsx)(me.Ay,{value:{label:a,value:a},options:E,onChange:e=>c(s,e?.value??void 0),styles:{menuList:e=>({...e,minHeight:`min(60vh, ${50*t.length}px)`})}})]}),(0,k.jsxs)("div",{className:js,children:[(0,k.jsxs)("div",{className:fs,children:[(0,k.jsx)(j.E,{as:"p",variant:"bodyMedium",children:"Request"}),(0,k.jsx)(he.n,{className:ys,size:"small",disabled:x,onClick:S,children:"Prettify"}),(0,k.jsx)(he.n,{className:ys,size:"small",disabled:x,onClick:u?w:C,children:u?"Cancel":"Send"})]}),g]}),(0,k.jsxs)("div",{className:vs,children:[(0,k.jsx)("div",{className:fs,children:(0,k.jsx)(j.E,{as:"p",variant:"bodyMedium",children:"Response"})}),b]})]})};var ws=s(95683);const Cs={ranges:[{name:"Basic Latin (ASCII)",start:"U+0000",end:"U+007F"},{name:"Latin-1 Supplement",start:"U+0080",end:"U+00FF"},{name:"Latin Extended-A",start:"U+0100",end:"U+017F"},{name:"Latin Extended-B",start:"U+0180",end:"U+024F"},{name:"Greek and Coptic",start:"U+0370",end:"U+03FF"},{name:"Cyrillic",start:"U+0400",end:"U+04FF"},{name:"Armenian",start:"U+0530",end:"U+058F"},{name:"Hebrew",start:"U+0590",end:"U+05FF"},{name:"Arabic",start:"U+0600",end:"U+06FF"},{name:"Devanagari",start:"U+0900",end:"U+097F"},{name:"General Punctuation",start:"U+2000",end:"U+206F"}]},Ss={},As=()=>{const e=(0,n.useRef)(null),t=(0,n.useRef)(null),s=(0,n.useRef)(null),a=(0,n.useRef)(null),r=(0,n.useCallback)((()=>{const e=s.current?.getBoundingClientRect().width,t=(0,ws.L)(s.current.textContent,20,400);a.current.textContent=`Real width: ${e}px, Estimated width: ${t}px`}),[]),i=(0,n.useCallback)((()=>{Cs.ranges.forEach((t=>{const s=parseInt(t.start.slice(2),16),n=parseInt(t.end.slice(2),16);for(let t=s;t<=n;t++){const s=String.fromCharCode(t),n=document.createElement("span");n.style.display="inline",n.style.fontSize="20px",n.style.fontWeight="400",n.textContent=s,e.current?.appendChild(n);const a=n.getBoundingClientRect().width,r=Math.floor(a/20*100);Ss[t]=r}})),t.current.textContent=JSON.stringify(Ss)}),[]);return(0,n.useEffect)((()=>{r()}),[r]),(0,k.jsxs)("div",{children:[(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{children:"Change the text below if the map is working correctly"}),(0,k.jsx)("div",{children:(0,k.jsx)("span",{contentEditable:!0,style:{fontSize:"20px",fontWeight:400,background:"#fff",border:"1px solid blue",margin:"16px 0",padding:"0px"},ref:s,onInput:r,children:"Lorem ipsum dolor sit amet."})}),(0,k.jsx)("pre",{ref:a})]}),(0,k.jsx)("hr",{}),(0,k.jsx)("h2",{children:"JSON font map output"}),(0,k.jsx)("div",{children:(0,k.jsx)("textarea",{style:{width:"100%",height:"200px"},ref:t})}),(0,k.jsx)("hr",{}),(0,k.jsx)("h2",{children:"Rendering Area"}),(0,k.jsx)("div",{children:(0,k.jsx)("button",{onClick:i,children:"Render chars"})}),(0,k.jsx)("div",{style:{width:"100%",maxWidth:"100%",border:"1px solid red"},ref:e})]})};var ks=s(16753),Es=s(1026),Is=s(8086),Os=s(28772),Rs=s(53134),Ps=s(34174),Ts=s(35043),_s=s(50716),Ds=s(6317),Us=s(99701),Ms=s(23091);function Ls(e){return e instanceof Uint8Array?(0,Ms.U5)(e):Array.isArray(e)?e.map(Ls):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map((([e,t])=>[e,Ls(t)]))):e}var Fs=s(62021),Bs=s(62933),Vs=s(30157),Hs=s(16946);var zs=s(61979);const Js="bJCivn96KnicF9OorMtA",Ws="J4_D9yyu_KzwPD8HrEP8",$s="zSOvuirnU0EE_dZISOQG",Ys="SQ59ocfu1aRXjYTP_E7I",Zs="YlTDiTj7_ooJnrkjWaGI",qs="v1ZF45YEwslZyIViHQr_",Gs="PgqFMbfDZ0HaAaMKz2hg",Ks="LzF5Qzz4X6invHGmooXD",Qs="APJUu59mvWfVPwPVaZ78",Xs="L9rS2WwxiEjv6HLfbx0B",en="f4sDBZZ5uI0KiTmmnuGL",tn=()=>{const e=(0,Vs.N)(Hs.Z),{enqueueSnackbar:t}=(0,Pe.d)(),s=V(),{Editor:a,setContent:r,getContent:i}=wt({readOnly:!0}),l=Object.values(Bs.UH).filter((e=>"number"==typeof e)).map((e=>({value:e,label:Bs.UH[e]}))),o=(0,n.useMemo)((()=>Object.fromEntries(l.map((e=>[e.value,e])))),[l]),[c,d]=(0,n.useState)(""),[u,m]=(0,Fs.x)("mex-debug-extensions",[]),[x,v]=(0,Fs.x)("mex-debug-extension-kinds-by-entity-uri-to-request",{}),[f,y]=(0,Fs.x)("mex-debug-show-decorated-entities",!0),[b,N]=(0,Fs.x)("mex-debug-should-hex-encode-bytes",!0),[w,C]=(0,n.useState)(null),S=Ge(f?Object.keys(x):[]);(0,n.useEffect)((()=>{if(!w)return void r("");const{requestedExtensionKindsByEntityUri:e,extensionsByEntityUri:t}=w,s=Object.entries(e).map((([e,s])=>({entityUri:e,...Object.fromEntries(s.map((s=>[Bs.UH[s],t[e]?.[s]??null])))})));r(JSON.stringify(b?Ls(s):s,null,2))}),[w,r,b]);const A=(0,n.useMemo)((()=>Array.from(new Set(Object.values(x).flat().filter((e=>!(0,Bs.V$)(e)))))),[x]);return(0,k.jsxs)("div",{className:Js,children:[(0,k.jsx)(j.E,{as:"h2",variant:"titleMedium",semanticColor:"textBase",children:"Metadata extensions"}),(0,k.jsxs)("div",{className:Ws,children:[(0,k.jsx)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation();const s=c.split(/\n/).filter((e=>null!==(0,Ae.o_h)(e,{parseUnknown:!0})));if(!s.length)return void t(`Invalid entity URIs: "${c}"`);if(!u.length)return void t("Please select some metadata extensions before adding");const n=u.map((e=>e.value)),a=(0,zs.h)(x);for(const e of s)a[e]??=[],a[e]=Array.from(new Set([...a[e],...n]));v(a)},children:(0,k.jsxs)(ks.a,{className:$s,variant:"tinted",tabIndex:-1,children:[(0,k.jsx)(j.E,{variant:"titleSmall",paddingBottom:"tighter-2",as:"h3",children:"Add entities"}),(0,k.jsxs)(h.g,{label:"Entity URI(s)",labelFor:"entity-uri",children:[(0,k.jsx)(Es.h,{id:"entity-uri",type:"text",placeholder:"Entity URI(s) to fetch extensions for",value:c,className:Ys,autoFocus:!0,onChange:e=>{const t=e.currentTarget.value.trimStart().split(/([\s,]+)/).map(((e,t)=>t%2?"\n":(0,Ae.o_h)(e,{parseUnknown:!0})?.toURI()??e)).join("");d(t)},required:!0}),(0,k.jsx)(Is.N,{children:"Entity URI(s) to request metadata extensions for."})]}),(0,k.jsxs)(h.g,{label:"Metadata extension(s)",labelFor:"metadata-extensions",children:[(0,k.jsx)(me.Ay,{value:u,id:"metadata-extensions",placeholder:"Metadata extension(s) to fetch",isMulti:!0,name:"Metadata extensions",options:l,onChange:e=>{m([...e])}}),(0,k.jsx)(Is.N,{children:"Metadata extension(s) to request for the specified entity uri(s)."})]}),(0,k.jsx)(he.n,{className:qs,type:"submit",disabled:!c||!u.length,children:"Add"})]})}),(0,k.jsxs)(ks.a,{className:Zs,variant:"tinted",tabIndex:-1,children:[(0,k.jsxs)("div",{children:[(0,k.jsx)(j.E,{variant:"titleSmall",paddingBottom:"tighter-2",as:"h3",children:"Added entities"}),(0,k.jsx)(Os.X,{checked:f,onChange:e=>{y(e.target.checked)},children:"Show decorated entities"})]}),Object.keys(x).length?(0,k.jsxs)(U.X,{children:[(0,k.jsxs)("colgroup",{children:[(0,k.jsx)("col",{width:"375px"}),(0,k.jsx)("col",{}),(0,k.jsx)("col",{width:"48px"})]}),(0,k.jsx)("thead",{children:(0,k.jsxs)(I.H,{children:[(0,k.jsx)(M.M,{children:"Entity"}),(0,k.jsx)(M.M,{children:"Extensions to request"}),(0,k.jsx)(M.M,{})]})}),(0,k.jsx)("tbody",{children:Object.entries(x).map((([e,n])=>(0,k.jsxs)(I.H,{children:[(0,k.jsx)(O.n,{condensed:!0,children:f?(0,k.jsx)(Fe,{loading:S.loading&&!(e in S.entitiesByUri),...S.entitiesByUri[e],uri:e}):(0,k.jsx)(p.v,{iconLeading:()=>(0,k.jsx)(De.s,{size:"small",type:S.entitiesByUri[e]?.type??(0,Ae.o_h)(e)?.type}),onClick:()=>{s(e),t("URI copied to clipboard")},style:{marginBlockEnd:0},children:e})}),(0,k.jsx)(O.n,{condensed:!0,children:(0,k.jsx)(me.Ay,{value:n.map((e=>o[e])),placeholder:"Metadata extension(s) to fetch",isMulti:!0,isClearable:!1,name:"Metadata extensions",options:l,onChange:t=>{const s=(0,zs.h)(x);s[e]=t.map((e=>e.value)),v(s)}})}),(0,k.jsx)(O.n,{condensed:!0,children:(0,k.jsx)(Us.Zp,{label:"Remove entity",children:(0,k.jsx)(Oe.H,{className:qs,iconOnly:st.M,label:"Remove",onClick:()=>{const{[e]:t,...s}=x;v(s)}})})})]},e)))})]}):(0,k.jsxs)(Rs.p,{icon:Ps.Z,variant:"contextual",children:[(0,k.jsx)(Ts.R,{children:"No entities added"}),(0,k.jsx)(_s.S,{children:"Add entities to request metadata extensions for and they'll be listed here."})]})]})]}),(0,k.jsxs)("div",{className:Gs,tabIndex:-1,children:[(0,k.jsx)(g.$,{className:qs,onClick:async()=>{const t=x,s=new Map,n=new Map;for(const[e,t]of Object.entries(x)){const a=t.slice().sort().toString();s.has(a)||s.set(a,t);const r=s.get(a);n.set(r,(n.get(r)??[]).concat(e))}const a=await Promise.all(Array.from(n.entries()).map((([t,s])=>e.fetch(s,t)))).then((e=>Object.fromEntries(e.flat().map((({uri:e,extensions:t})=>[e,t])))));C({requestedExtensionKindsByEntityUri:t,extensionsByEntityUri:a})},children:"Fetch extensions"}),(0,k.jsx)(he.n,{className:qs,onClick:async()=>{const s=new Map;for(const[e,t]of Object.entries(x))for(const n of t)s.has(n)||s.set(n,[]),s.get(n)?.push(e);await Promise.all(Array.from(s.entries()).map((([t,s])=>e.expire(s,t)))),t("Extensions expired!")},children:"Expire extensions"})]}),w&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Ds.d,{className:Ks}),(0,k.jsxs)("div",{className:en,tabIndex:-1,children:[(0,k.jsxs)("div",{className:Qs,children:[(0,k.jsx)(j.E,{variant:"titleMedium",as:"h2",semanticColor:"textBase",children:"Response"}),(0,k.jsxs)("div",{className:Xs,children:[(0,k.jsx)(Us.Zp,{label:"Hex encode all byte fields",children:(0,k.jsx)("div",{children:(0,k.jsx)(Os.X,{checked:b,onChange:e=>{N(e.target.checked)},children:"Hexify bytes"})})}),(0,k.jsx)(Us.Zp,{label:"Copy response to clipboard",children:(0,k.jsx)(Oe.H,{className:qs,iconOnly:P._,onClick:()=>{s(i()??void 0),t("Response copied to clipboard")}})}),(0,k.jsx)(Us.Zp,{label:"Clear response",children:(0,k.jsx)(Oe.H,{className:qs,iconOnly:st.M,onClick:()=>{C(null)}})})]})]}),A.length?(0,k.jsxs)(ks.a,{variant:"contrasting",colorSet:"warning",children:[(0,k.jsx)(j.E,{variant:"titleSmall",paddingBottom:"tighter-2",as:"h3",children:"Warning: requested extensions lacking decoders:"}),(0,k.jsx)("div",{children:A.map((e=>(0,k.jsx)(p.v,{children:Bs.UH[e]},e)))}),(0,k.jsx)(j.E,{variant:"bodyMedium",paddingBottom:"tighter-2",children:"You might want to add proto files and generate a decoders for these in the MetadataExtensionsAPI."})]}):null,a]})]})]})};var sn=s(85505),nn=s(12386),an=s(93186),rn=s(81135),ln=s(63123),on=s(46693),cn=s(17282),dn=s(14036),un=s(3326);var hn=s(32792),mn=s(38694);var pn=s(58685),xn=s(82935);const gn=({size:e,ranges:t})=>{if(0===t.length)return(0,k.jsx)("div",{className:$,children:(0,k.jsx)("div",{className:Y})});const s=`linear-gradient(90deg, ${t.map((t=>{const s=100*t.fromByte/e,n=100*t.toByte/e;return`transparent ${s}%, ${sn.pfM} ${s}%, ${sn.pfM} ${n}%, transparent ${n}%`})).join(", ")})`;return(0,k.jsx)("div",{className:$,children:(0,k.jsx)("div",{className:Y,style:{background:s}})})},jn=({item:e,file:t})=>{const s=(0,H.z)(),n=V(),a=(function(e){let t,s,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)s=e.charCodeAt(t),n=(n<<5)-n+s,n|=0;return n}(`${t.format}${t.bitrate}${t.formatEnum}`)+180)%360;return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:(0,k.jsxs)("div",{className:Z,style:{background:`linear-gradient(180deg, hsl(${a}, 60%, 30%), hsl(${a}, 40%, 70%))`},children:[(0,k.jsx)("span",{className:q,children:t.format}),(0,k.jsx)("span",{className:G,children:vn(t)})]})}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,children:(0,k.jsxs)("div",{className:W,children:[t.fileId,(0,k.jsx)(gn,{size:t.byteSize,ranges:t.byteRanges})]})}),(0,k.jsxs)(O.n,{className:L.rowActions,children:[(0,k.jsx)("button",{className:L.rowAction,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:t.fileId,bitrate:t.bitrate,format:t.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,k.jsx)(R.A,{size:"small"})}),(0,k.jsx)("button",{className:L.rowAction,onClick:()=>{n(t.fileId)},children:(0,k.jsx)(P._,{size:"small"})})]})]})};function vn(e){switch(e.formatEnum){case 16:return"16-bit";case 22:return"24-bit";default:return fn(e.bitrate,1e3,"k")}}function fn(e=void 0,t=1,s=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(Number(e)/t).toLocaleString("en",{maximumFractionDigits:10})}${s}`}function yn(e=void 0){return!0===e?"Yes":"No"}function bn(e=void 0){if(void 0!==e)return(0,xn.f)(Number(e))}const Nn=({name:e,value:t})=>{const s=V();return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:e}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:t}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>s(t),children:(0,k.jsx)(P._,{size:"small"})})})]})},wn=({terminalType:e,transportType:t,isDefaultDevice:s})=>{const n=s?"essentialPositive":"essentialBase",a=[];switch(e){case Zt.FI.TERMINAL_TYPE_SPEAKERS:a.push((0,k.jsx)(nn.r,{semanticColor:n,size:"small"}));break;case Zt.FI.TERMINAL_TYPE_HEADPHONES:a.push((0,k.jsx)(an.r,{semanticColor:n,size:"small"}));break;case Zt.FI.TERMINAL_TYPE_DISPLAY_DEVICE:a.push((0,k.jsx)(rn.I,{semanticColor:n,size:"small"}))}switch(t){case Zt.Yg.TRANSPORT_TYPE_BUILT_IN:case Zt.Yg.TRANSPORT_TYPE_VIRTUAL:break;case Zt.Yg.TRANSPORT_TYPE_USB:a.push((0,k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",style:{position:"relative",top:"3px",width:16,height:16,fill:(0,ln.oj)(n)},children:(0,k.jsx)("path",{d:"m7.792.312-1.533 2.3A.25.25 0 0 0 6.467 3H7.5v7.319a2.5 2.5 0 0 0-.515-.298L5.909 9.56A1.5 1.5 0 0 1 5 8.18v-.266a1.5 1.5 0 1 0-1 0v.266a2.5 2.5 0 0 0 1.515 2.298l1.076.461a1.5 1.5 0 0 1 .888 1.129 2.001 2.001 0 1 0 1.021-.006v-.902a1.5 1.5 0 0 1 .756-1.303l1.484-.848A2.5 2.5 0 0 0 11.995 7h.755a.25.25 0 0 0 .25-.25v-2.5a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25v2.5c0 .138.112.25.25.25h.741a1.5 1.5 0 0 1-.747 1.142L8.76 8.99a2.584 2.584 0 0 0-.26.17V3h1.033a.25.25 0 0 0 .208-.389L8.208.312a.25.25 0 0 0-.416 0Z"})}));break;case Zt.Yg.TRANSPORT_TYPE_BLUETOOTH:a.push((0,k.jsx)(on.C,{semanticColor:n,size:"small"}));break;case Zt.Yg.TRANSPORT_TYPE_DISPLAY_DEVICE:a.push((0,k.jsx)(rn.I,{semanticColor:n,size:"small"}))}return 0===a.length&&a.push((0,k.jsx)(cn.N,{semanticColor:n,size:"small"})),(0,k.jsx)(k.Fragment,{children:a})},Cn=({name:e,id:t,isDefaultDevice:s,terminalType:n,terminalTypeRaw:a,transportType:r,transportTypeRaw:i})=>{const l=V();return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsxs)(O.n,{className:L.rowName,highlight:!0,children:[(0,k.jsx)(wn,{terminalType:n,transportType:r,isDefaultDevice:s})," ",e]}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,children:t}),(0,k.jsx)(O.n,{className:L.rowValue,children:a}),(0,k.jsx)(O.n,{className:L.rowValue,children:i}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>l(t),children:(0,k.jsx)(P._,{size:"small"})})})]})},Sn=()=>{const e=(0,pn.o)((e=>e?.item??null)),t=function(){const[e,t]=(0,n.useState)(null),s=(0,un.p)();return(0,n.useEffect)((()=>{let e=!0;return s.getPlaybackInfo().then((s=>{e&&t(s)})),()=>{e=!1}}),[s]),(0,mn.F)(hn._.INFO,(({data:e})=>{t(e)})),e}(),s=function(e=null,t=null){const[s,a]=(0,n.useState)(null),r=(0,un.p)();return(0,n.useEffect)((()=>{let s=!0,n=null;if(null===e)a(null);else{const i=async()=>{const t=await r.getFiles(e);s&&a(t)};i(),null!==t&&(n=window.setInterval(i,t))}return()=>{s=!1,null!==n&&window.clearInterval(n)}}),[r,e,t]),s}(e?.uri,500),a=(0,H.z)(),[r,i]=(0,n.useState)([]);return(0,n.useEffect)((()=>{const e=(0,b.X)(),t=new Zt.Ag(e).getAudioOutputDevices({},(e=>{i(e.devices.sort(((e,t)=>e.isDefaultDevice?-1:t.isDefaultDevice?1:e.name.localeCompare(t.name))))}));return()=>{t.cancel()}}),[]),null===e?(0,k.jsx)("div",{className:J,children:"Nothing is currently playing."}):(0,k.jsxs)("div",{className:J,children:[(0,k.jsxs)("div",{className:K,children:[(0,k.jsx)(j.E,{variant:"bodySmallBold",children:"Forced shuffle"}),(0,k.jsx)(dn.l,{id:"forced-shuffe",value:a.getForcedShuffle(),onSelected:e=>{a.setForcedShuffle(e)}})]}),(0,k.jsx)("div",{children:(0,k.jsx)("button",{className:Q,onClick:()=>{a.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,k.jsx)("span",{children:"Clear context"})})}),(0,k.jsx)(F,{title:"Devices",rows:r,cols:[{name:"Name",width:"30%"},{name:"ID"},{name:"Terminal"},{name:"Transport"},{name:"Actions",width:"16px"}],renderRow:e=>(0,k.jsx)(Cn,{...e}),canCollapse:!0}),(0,k.jsx)(F,{title:"Details",rows:[{name:"url"===t?.fileType?"URL":"File ID",value:t?.fileId},{name:"Type",value:t?.fileType},{name:"Codec",value:t?.codecName},{name:"Bitrate",value:fn(t?.fileBitrate,1e3,"k")},{name:"Strategy",value:t?.strategy},{name:"Target Bitrate",value:fn(t?.targetBitrate,1e3,"k")},{name:"Advisted Bitrate",value:fn(t?.advisedBitrate,1e3,"k")},{name:"Target File Available",value:yn(t?.targetFileAvailable)},{name:"Duration (hh:mm)",value:bn(t?.lengthMs)},{name:"Duration (ms)",value:fn(t?.lengthMs,1," ms")},{name:"Speed",value:fn(t?.playbackSpeed)},{name:"Gain Adjustment",value:fn(t?.gainAdjustment)},{name:"Loudness",value:t?.hasLoudness?fn(t?.loudness):void 0}],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:e=>(0,k.jsx)(Nn,{...e}),canCollapse:!0}),(0,k.jsx)(F,{title:"Files",rows:s??[],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:t=>(0,k.jsx)(jn,{item:e,file:t},t.fileId),canCollapse:!0,isCollapsedInitially:!0})]})},An="wNixUJkDt8ib6LarXls_",kn=()=>{const e=(0,pn.o)((e=>e)),t=(0,n.useMemo)((()=>JSON.stringify(e,((e,t)=>"metadata"===e&&t?.constructor===Object?Object.fromEntries(Object.entries(t).sort()):t),2)),[e]),{Editor:s,setContent:a}=wt({readOnly:!0});return(0,n.useEffect)((()=>{a(t)}),[t,a]),(0,k.jsx)("div",{className:An,children:s})};var En=s(85387),In=s(11893);const On="cD9jN2lI075m3UkqXSlQ",Rn=({playlistUri:e})=>{const t=(0,In.J)(e,{decorateFormatListData:!0}),{Editor:s,setContent:a}=wt({readOnly:!0});return(0,n.useEffect)((()=>{const e=JSON.stringify(t,null,2);a(e)}),[t,a]),s},Pn=()=>{const e=(0,En.zy)(),t=(0,Ae.o_h)(e.pathname),s=(0,Ae.nuB)(t);return(0,k.jsx)("div",{className:On,children:s?(0,k.jsx)(Rn,{playlistUri:t.toURI()}):(0,k.jsx)(j.E,{variant:"bodyMedium",children:"Navigate to a playlist to see metadata here."})})};var Tn=s(82381);const _n=()=>{const{data:e}=(0,Tn.k)(),t=Object.keys(e).sort().reduce(((t,s)=>(t[s]=e[s],t)),{}),s=JSON.stringify(t,null,2),{Editor:a,setContent:r}=wt({readOnly:!0});return(0,n.useEffect)((()=>{r(s)}),[s,r]),(0,k.jsx)("div",{className:On,children:a})};var Dn=s(26471),Un=s(92876),Mn=s(14442),Ln=s(3339),Fn=s(54866);function Bn(e,t){const s=(0,Fn.x)();(0,n.useEffect)((()=>s.getEvents().addListener(e,t)),[e,t,s])}const Vn="Gc_xi0GmVaC4DyViocdz",Hn="uliJIthMaP5kUx2IpElY",zn="h0NXdJlkjupX8nTYlhhc",Jn=({name:e,value:t})=>{const s=V();return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:e}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:t}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>s(t),children:(0,k.jsx)(P._,{size:"small"})})})]})},Wn=()=>{const e=(()=>{const e=(0,Fn.x)(),[t,s]=(0,n.useState)(e.getSubscriptions()),a=(0,n.useCallback)((()=>{s(e.getSubscriptions())}),[e,s]);return Bn(Ln.K.SUBSCRIBE,a),Bn(Ln.K.CANCEL,a),Bn(Ln.K.REFRESH,a),t})(),t=V(),s=Object.entries((a=e=>`${e.ident}${e.isPrefix?"*":""}`,e.reduce(((e,t)=>{const s=a(t);return(e[s]=e[s]||[]).push(t),e}),{})));var a;return(0,k.jsx)(F,{title:"Subscriptions",rows:s,cols:[{name:"Ident"},{name:"Actions",width:"16px"}],renderRow:([e,s])=>(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsxs)(O.n,{className:L.rowValue,truncate:!0,children:[e," (",s.length,")"]}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>t(e),children:(0,k.jsx)(P._,{size:"small"})})})]},e),canCollapse:!0})};function $n(e){if(e.ident.endsWith("/json"))return!0;if(0===e.payloads.length)return!1;const t=(0,Ms.dI)(e.payloads[0]);return t.length>0&&"{"===t[0]}const Yn=({message:e})=>{const[t,s]=(0,n.useState)(!1),{Editor:a,setContent:r}=wt({readOnly:!0});return(0,n.useEffect)((()=>{if(0!==e.payloads.length)if($n(e)){const t=JSON.parse((0,Ms.dI)(e.payloads[0]));r(JSON.stringify(t,void 0,2))}else{const t=(0,Ms.U5)(e.payloads[0]);r(JSON.stringify(t,void 0,2))}}),[e,r]),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,children:new Date(e.timestamp).toLocaleString()}),(0,k.jsx)(O.n,{className:L.rowName,children:e.ident}),(0,k.jsxs)(O.n,{className:L.rowName,children:[(0,k.jsx)("button",{className:L.rowAction,onClick:()=>s(!t),children:(0,k.jsx)(Dn.W,{size:"small"})}),(0,k.jsx)(Mn.M,{isOpen:t,className:zn,onRequestClose:()=>s(!1),shouldCloseOnEsc:!0,shouldCloseOnBackdropClick:!0,animated:!0,children:a})]})]})},Zn=()=>{const e=(0,Fn.x)(),[t,s]=(0,n.useState)(0),[a,r]=(0,n.useState)(!0);Bn(Ln.K.MESSAGE,(()=>{s(t+1)}));const i=a?e.getMessages().filter($n):e.getMessages();return(0,k.jsx)(F,{title:"Messages",titleExtra:(0,k.jsxs)("div",{className:Hn,children:[(0,k.jsx)(Un.c,{id:"json-only",size:"small",checked:a,onChange:()=>r(!a)}),(0,k.jsx)(j.E,{as:"label",htmlFor:"json-only",variant:"marginal",children:"JSON only"})]}),rows:i,cols:[{name:"Time",width:"200px"},{name:"Ident"},{name:"Payload",width:"16px"}],renderRow:(e,t)=>(0,k.jsx)(Yn,{message:e},`${t}-${e.ident}-${e.timestamp}`),canCollapse:!0})},qn=()=>{const e=(()=>{const e=(0,Fn.x)(),[t,s]=(0,n.useState)(null);(0,n.useEffect)((()=>{e.getConnectionId().then((e=>s(e)))}),[e,s]);const a=(0,n.useCallback)((e=>s(e.data.connectionId)),[s]);return Bn(Ln.K.CONNECTION,a),t})();return(0,k.jsxs)("div",{className:Vn,children:[(0,k.jsx)(F,{title:"PubSub",rows:(0,k.jsx)(Jn,{name:"Connection ID",value:e??"-"}),cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}]}),(0,k.jsx)(Wn,{}),(0,k.jsx)(Zn,{})]})};var Gn=s(40638),Kn=s(24190),Qn=s(92336),Xn=s(87621),ea=s(28506),ta=s(39795),sa=s(50486),na=s(21762),aa=s(8284),ra=s(62478);const ia=36e5;var la=s(82162),oa=s(40184),ca=s(70896),da=s(37842);const ua="CPh1NBIPIZdD7S5EeAJw",ha="ImIlB71ObQKbFW5YUTmT",ma="TzXFebu8XWPbINPiP4rs",pa="MigGXxVYX9Yi6_lGrDwe",xa="oyMDrjEp_otdJzIKn5YC",ga=({property:e,value:t,onOverride:s,isOverridden:n})=>{if("int"===e.type||"internal"===e.type)throw Error("Invalid property type for dropdown!");const a="bool"===e.type?["true","false"]:e.values;return(0,k.jsx)(v.F,{id:`${e.name}-dropdown`,value:(t??e.default).toString(),onChange:t=>{var n;s(e.name,(n=t.currentTarget.value,"bool"===e.type?"true"===n:n))},className:r()({[pa]:n}),children:a.map((e=>(0,k.jsx)("option",{value:e,children:e},e)))})},ja=({property:e,value:t,onOverride:s,isOverridden:a})=>{if("int"!==e.type)throw Error("Invalid property type for dropdown!");const[i,l]=(0,n.useState)(t??e.default),o=(0,Gn.YQ)((t=>{s(e.name,t)}),500);return(0,k.jsx)(x.Z,{type:"number",min:e.lower,max:e.upper,value:i,onChange:e=>{l(e.currentTarget.value),o(Number.parseInt(e.currentTarget.value,10))},className:r()({[pa]:a})})},va=({property:e,localValue:t,remoteValue:s,experimentUrl:n,isRemoteUserSpecificOverride:a,onOverride:r,filter:i})=>{const l=t!==s,o=e.default.toString(),c=s?.toString();let d=(n||o!==c?c:null)??null;return d&&n&&(d=(0,k.jsxs)("a",{href:n,target:"_blank",className:xa,children:[c,a&&(0,k.jsx)(Kn.o,{size:"small"})]}),a&&(d=(0,k.jsx)(Us.Zp,{label:"This value comes from a user-specific override in the linked experiment.",children:d}))),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsxs)(O.n,{className:L.rowName,title:e.name,highlight:!0,children:[(0,k.jsx)("a",{href:`https://sites.spotify.net/s/hyperlink?path=property-experiments&property=${e.name}`,rel:"noopener noreferrer",target:"_blank",children:i?(0,k.jsx)(ea.M,{searchWords:[i??""],textToHighlight:e.name}):e.name}),(0,k.jsx)("div",{className:L.propertyDescription,children:e.description})]}),(0,k.jsx)(O.n,{className:L.rowValue,children:o}),(0,k.jsx)(O.n,{className:L.rowValue,children:d}),(0,k.jsx)(O.n,{className:L.rowValue,children:"bool"===e.type||"enum"===e.type?(0,k.jsx)(ga,{property:e,value:t,onOverride:r,isOverridden:l}):"int"===e.type?(0,k.jsx)(ja,{property:e,value:t,onOverride:r,isOverridden:l}):null})]})},fa="debugPanelRemoteConfigLastChangedAtByPropertyName",ya=({properties:e,localConfiguration:t,remoteConfiguration:s,setOverrides:a,clearOverrides:r})=>{const{filter:i}=(0,n.useContext)(ta.g),l=(0,da.q)(),o=()=>{const e=l.getItem(fa);return e instanceof oa.m||e instanceof ca.Y?{}:e},c=(e,t)=>{a(Qn.Vk.fromJSON({[e]:t})),l.setItem(fa,{...o(),[e]:Date.now()})},d=(0,n.useRef)(o()),u=e.sort(((e,t)=>(d.current[t.name]??0)-(d.current[e.name]??0)||e.name.localeCompare(t.name))),h=function(){const e=(0,aa.d)(),t=(0,Tn.k)(),s=(0,na.C)()?.username,a=(0,n.useMemo)((()=>Qn.mA.getPropertySetId({clientId:e.remote_config_client_id},(0,Qn.v6)(),[])),[e.remote_config_client_id]),r=(0,n.useMemo)((()=>{if(!e||!t.data||!s)return null;const n="web-player"===e.remote_config_client_id||"1"===t.data.employee;return{data:{platform:"WEB",clientId:e.remote_config_client_id,country:t.data.country,propertySetKey:a,clientVersion:e.event_sender_context_information?.client_version_string??"",installationId:e.event_sender_context_information?.installation_id??"",oauthClientId:e.event_sender_context_information?.client_id??"",employee:n,catalogue:t.data.catalogue,originPlatform:e.app_platform,originVersion:e.os_version??"",userName:s}}}),[s,e,t.data,a]),{data:i}=(0,sa.I)({queryKey:["traceback-config"],queryFn:()=>(0,ra.V)().request("https://remote-configuration-resolver.spotify.net/debug/traceback-config",{method:"POST",responseType:"json",headers:{"content-type":"application/json"},payload:JSON.stringify(r)}).then((e=>{const t=e.body;return Object.fromEntries(t.data.map((e=>[e.name,e])))})),staleTime:5e3,gcTime:ia,refetchInterval:ia,refetchOnWindowFocus:!1,enabled:!!r});return i??{}}();return(0,k.jsxs)("div",{className:ha,children:[(0,k.jsxs)("div",{className:ma,children:[(0,k.jsx)(he.n,{size:"small",onClick:()=>{r(),l.clearItem(fa)},children:"Clear local overrides"}),(0,k.jsx)(Xn.S,{placeholder:"Find",alwaysExpanded:!0})]}),(0,k.jsx)(T.K,{children:(0,k.jsxs)(U.X,{children:[(0,k.jsxs)("colgroup",{children:[(0,k.jsx)("col",{width:"30%"}),(0,k.jsx)("col",{}),(0,k.jsx)("col",{})]}),(0,k.jsxs)("tbody",{children:[(0,k.jsxs)(I.H,{children:[(0,k.jsx)(M.M,{className:L.rowHeader,children:"Name"}),(0,k.jsx)(M.M,{className:L.rowHeader,children:"Default"}),(0,k.jsx)(M.M,{className:L.rowHeader,children:"Remote"}),(0,k.jsx)(M.M,{className:L.rowHeader,children:"Local"})]}),u.filter((e=>-1!==e.name.toLowerCase().indexOf(i.toLowerCase()))).map((e=>(0,k.jsx)(va,{property:e,localValue:t.getValue(e.name),remoteValue:s.getValue(e.name),experimentUrl:h?.[e.name]?.experimentRef?.experimentUrl,isRemoteUserSpecificOverride:h?.[e.name]?.isOverride??!1,onOverride:c,filter:i},e.name)))]})]})})]})},ba=()=>{const e=[...(0,Qn.v6)()],{localConfiguration:t,remoteConfiguration:s,setOverrides:n,clearOverrides:a}=(0,la.g)();return(0,k.jsx)("div",{className:ua,children:(0,k.jsx)(ta.s,{uri:"spotify:internal:debug:remote-config-properties",children:(0,k.jsx)(ya,{properties:e,localConfiguration:t,remoteConfiguration:s,setOverrides:n,clearOverrides:a})})})},Na="wTIZy4hwIIwMdmqm93rW",wa="g2bLOY5W1sbuXtffHyDY",Ca=()=>{const e=(0,En.zy)(),t=(0,En.Zp)(),s=e=>{t(e,{state:{preventMoveFocus:!0}})},n=(0,Ae.o_h)(e.pathname);return(0,k.jsxs)("div",{className:Na,children:[(0,k.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=new FormData(e.target).get("navigateTo").toString(),n=new URL(t,"https://open.spotify.com");n.hostname&&n.pathname?s(n.pathname+n.search+n.hash):s(t)},className:wa,children:[(0,k.jsx)("label",{htmlFor:"navigate-input",children:"Navigate to"}),(0,k.jsx)(j.E,{variant:"bodySmall",as:"input",style:{color:sn.Ql9},name:"navigateTo",id:"navigate-input",type:"text",placeholder:"ex. /search/nirvana",onKeyDown:e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.stopPropagation()}})]}),(0,k.jsx)("h2",{children:"Current location:"}),(0,k.jsxs)("ul",{children:[(0,k.jsxs)("li",{children:["Location: ",e.pathname]}),e.search&&(0,k.jsxs)("li",{children:["Search params: ?",e.search]}),e.hash&&(0,k.jsxs)("li",{children:["Hash params: #",e.hash]}),n?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("li",{children:["URL: ",n.toURL()]}),(0,k.jsxs)("li",{children:["URI: ",n.toURI()]})]}):(0,k.jsx)("li",{children:"Not parseable as a Spotify URI!"}),(0,k.jsxs)("li",{children:["Location state: ",(0,k.jsx)("pre",{children:JSON.stringify(e.state,null,2)})]})]})]})};var Sa=s(4564),Aa=s(38501);const ka=()=>{const{localConfiguration:e,setOverrides:t}=(0,la.g)();return(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"React-Query Cache Persistence"}),(0,k.jsx)(O.n,{className:L.rowValue,align:"right",children:(0,k.jsx)(Os.X,{checked:e.getValue(Aa.QMQ),onChange:e=>{t(Qn.Vk.fromJSON({enableReactQueryPersistence:Boolean(e.target.checked)}))},children:"Enabled"})}),(0,k.jsx)(O.n,{className:L.rowValue,align:"right",children:(0,k.jsx)(g.$,{size:"small",onClick:()=>{(0,Sa.k)()},children:"Clear cache"})})]})},Ea=()=>(0,k.jsx)("div",{className:J,children:(0,k.jsx)(F,{title:"Development options",rows:(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(ka,{})}),cols:[],canCollapse:!0})});var Ia=s(65559),Oa=s(86442),Ra=s(78933),Pa=s(62706),Ta=s(62411),_a=s(6772),Da=s(98293),Ua=s(48570),Ma=s(47756),La=s(69693),Fa=function(e){return e.IPL="IN_PERSON",e.RGS="REMOTE",e}(Fa||{});var Ba=s(15970);function Va({obj:e}){return(0,k.jsx)(U.X,{children:(0,k.jsx)("tbody",{children:Object.entries(e).map((e=>(0,k.jsx)(Ha,{name:e[0],value:e[1]},e[0])))})})}function Ha({name:e,value:t}){const s=V();let n;return"string"==typeof t||"number"==typeof t?n=t:"boolean"==typeof t?n=(0,k.jsx)(Os.X,{defaultChecked:t,isActive:!1,onClick:e=>{e.preventDefault()}}):"object"==typeof t&&null!==t&&(n=(0,k.jsx)(Va,{obj:t})),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:e}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:n}),(0,k.jsx)(O.n,{className:L.rowActions,children:(0,k.jsx)("button",{className:L.rowAction,onClick:()=>{void 0!==t&&s("object"==typeof t?JSON.stringify(t):t.toString())},children:(0,k.jsx)(P._,{size:"small"})})})]})}var za=s(10565),Ja=s(52266),Wa=s(90754);var $a=s(6530),Ya=s(330);const Za=({deviceId:e,title:t,tech:s,type:n,token:a,isNew:r})=>{const i=(0,za.d)(),{data:l}=(0,sa.I)({queryKey:["scannedDeviceRowJam",a],queryFn:()=>i.getSessionInfo(a),refetchInterval:3e4}),{data:o}=(0,sa.I)({queryKey:["scannedDeviceVisibility",l?.sessionId],queryFn:l?.sessionId?()=>i.getLocalNetSesssionDeviceVisibility(l.sessionId):ze.hT,refetchInterval:3e4});return(0,k.jsx)(F,{title:t,rows:[{name:"Device ID",value:e},{name:"Tech",value:Ya.x[s]},{name:"Type",value:Ya.Z[n]},{name:"Token",value:a},{name:"Is new",value:r.toString()},...l?[{name:"Jam session id",value:l.sessionId},{name:"Jam session owner is self",value:l.isSessionOwner.toString()},{name:"Jam session owner",value:l.sessionMembers.find((e=>e.id===l.sessionOwnerId))?.displayName},{name:"Local device visibility",value:o?$a.MS[o]:null}]:[]],cols:[{name:"Property",width:"30%"},{name:"Value"},{name:"Actions",width:"16px"}],renderRow:({name:e,value:t})=>(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:e}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:t})]}),canCollapse:!0,isCollapsedInitially:!0},e)},qa=()=>{const e=(()=>{const e=(0,za.d)(),[t,s]=(0,n.useState)(e.getLocalNetSessionDevices());return(0,Wa.c)(Ja.P.SCAN_UPDATE,(()=>{s(e.getLocalNetSessionDevices())})),t})();return e?.devices.map((e=>(0,k.jsx)(Za,{...e},e.deviceId)))};var Ga=s(99348),Ka=s(75950),Qa=s(61612);const Xa=[{title:"Debugging Info",Component:()=>{const e=(0,Qa.M)(),t=(0,Ka.C)(),s=(0,Ga.y)(),{currentSession:n}=(0,La.D)(),[a]=(0,Fs.x)("dismissStartJamButtonFromQueue",!1),[r]=(0,Fs.x)("dismissStartJamButtonFromFriendFeed",!1);return(0,k.jsx)(T.K,{children:(0,k.jsxs)(U.X,{children:[(0,k.jsxs)("colgroup",{children:[(0,k.jsx)("col",{width:"30%"}),(0,k.jsx)("col",{}),(0,k.jsx)("col",{width:"16px"})]}),(0,k.jsxs)("tbody",{children:[(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"useIsSocialConnectAPIEnabled"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:e})]}),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"useJamExperience()"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:t})]}),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"Is current Jam active?"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:n?.active.toString()??"null"})]}),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"useCanCreateJam()"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:s.toString()})]}),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"Jam banner dismissed from queue"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:a.toString()})]}),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"Jam banner dismissed from friend feed"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:r.toString()})]}),(0,k.jsxs)(I.H,{hover:!0,children:[(0,k.jsx)(O.n,{className:L.rowName,highlight:!0,children:"Scanned devices"}),(0,k.jsx)(O.n,{className:L.rowValue,truncate:!0,align:"right",children:(0,k.jsx)(U.X,{children:(0,k.jsx)("tbody",{children:(0,k.jsx)(qa,{})})})})]})]})]})})}},{title:"Current Session",Component:()=>{const{currentSession:e,refreshCurrentSession:t}=(0,La.D)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Oe.H,{iconOnly:Ba.H,onClick:()=>{t()}}),(0,k.jsx)(T.K,{children:e&&(0,k.jsxs)(U.X,{children:[(0,k.jsxs)("colgroup",{children:[(0,k.jsx)("col",{width:"30%"}),(0,k.jsx)("col",{}),(0,k.jsx)("col",{width:"16px"})]}),(0,k.jsx)("tbody",{children:Object.entries(e).map((e=>(0,k.jsx)(Ha,{name:e[0],value:e[1]},e[0])))})]})})]})}},{title:"Create New Session",Component:()=>{const{createSession:e}=(0,La.D)(),[t,s]=(0,n.useState)(null),[a,r]=(0,n.useState)(Fa.IPL),i=(0,Ta.wA)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:"Create a new session as your current user (does nothing if you already have a session)"}),(0,k.jsxs)("div",{className:L.rowControl,children:[(0,k.jsxs)(Ua.C,{id:"sessionTypeDropdown",value:a,onSelect:e=>{switch(e){case Fa.IPL:r(Fa.IPL);break;case Fa.RGS:r(Fa.RGS);break;default:r(Fa.IPL)}},children:[(0,k.jsx)("option",{value:Fa.IPL,children:Fa.IPL},Fa.IPL),(0,k.jsx)("option",{value:Fa.RGS,children:Fa.RGS},Fa.RGS)]}),(0,k.jsx)(g.$,{onClick:async t=>{t.preventDefault();const n=await e();s(n)},children:"Create"})]}),(0,k.jsx)(he.n,{onClick:()=>{i((0,Da.A9)(Ma.EL.INVITE))},style:{marginTop:_a.WG},children:"Open invitation modal"}),null!==t&&(0,k.jsx)(Es.h,{value:JSON.stringify(t,null,2),readOnly:!0})]})}},{title:"Leave Current Session",Component:()=>{const{leaveSession:e,currentSession:t}=(0,La.D)(),[s,a]=(0,n.useState)(null);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:L.rowName,children:"Leave your current session"}),(0,k.jsxs)("div",{className:L.rowControl,children:[(0,k.jsx)(x.Z,{value:t?.sessionId??"",readOnly:!0}),(0,k.jsx)(g.$,{onClick:async s=>{if(s.preventDefault(),!t)return;const n=await e();a(n)},children:"Leave"})]}),null!==s&&(0,k.jsx)(Es.h,{value:JSON.stringify(s,null,2),readOnly:!0})]})}},{title:"Delete Current Session",Component:()=>{const{currentSession:e,deleteSession:t}=(0,La.D)(),[s,a]=(0,n.useState)(null);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:L.rowName,children:"Delete your current session"}),(0,k.jsxs)("div",{className:L.rowControl,children:[(0,k.jsx)(x.Z,{value:e?.sessionId??"",readOnly:!0}),(0,k.jsx)(g.$,{onClick:async s=>{if(s.preventDefault(),!e)return;const n=await t();a(n)},children:"Delete"})]}),null!==s&&(0,k.jsx)(Es.h,{value:JSON.stringify(s,null,2),readOnly:!0})]})}},{title:"Join Session as Guest",Component:()=>{const[e,t]=(0,n.useState)(""),s=(0,Ta.wA)(),a=(0,En.Zp)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:L.rowName,children:"Join somebody else's session (paste join token or join URI)"}),(0,k.jsxs)("div",{className:L.rowControl,children:[(0,k.jsx)(x.Z,{value:e,onChange:e=>t(e.currentTarget.value)}),(0,k.jsx)(g.$,{onClick:async t=>{t.preventDefault();const n=(0,Ae.o_h)(e);n&&(0,Ae.crr)(n)?a(n.toURLPath(!0)):s((0,Da.A9)(Ma.EL.JOIN,e))},children:"Join"})]})]})}}],er=()=>{const[e,t]=(0,n.useState)(-1);return(0,k.jsxs)("div",{className:Na,children:[(0,k.jsx)("h1",{children:"Social Connect!"}),(0,k.jsx)(Ia.n,{children:Xa.map(((s,n)=>(0,k.jsxs)(Oa.A,{children:[(0,k.jsx)(Ra.J,{className:L.rowHeader,onClick:s=>{s.preventDefault(),t(n===e?-1:n)},isExpanded:n===e,children:s.title}),(0,k.jsx)(Pa.u,{isExpanded:n===e,children:s.Component&&(0,k.jsx)(s.Component,{})})]},`${n}-item`)))})]})};var tr=s(10583);const sr="rqY5xQzTYB0T5O0XyDdn",nr="jDgWpAIXmxJKgp8GtVWk",ar=()=>{const{value:e,setValue:t,clearStoredKeyValue:s,clearSessionStorage:n}=(0,tr.useSessionStorage)("eligibility"),{value:a,setValue:r,clearStoredKeyValue:i}=(0,tr.useSessionStorage)("datetime");return(0,k.jsxs)("div",{className:sr,children:[(0,k.jsx)("h1",{children:"Premium Page Debug"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:"Override Eligiiblity"}),(0,k.jsxs)("select",{className:nr,value:e,onChange:e=>t(e.target.value),children:[(0,k.jsx)("option",{}),(0,k.jsx)("option",{value:"INTRO_ELIGIBLE",children:"INTRO_ELIGIBLE"}),(0,k.jsx)("option",{value:"NON_INTRO_ELIGIBLE",children:"NON_INTRO_ELIGIBLE"}),(0,k.jsx)("option",{value:"WINBACK",children:"WINBACK"})]}),(0,k.jsx)(g.$,{className:sr,size:"small",onClick:()=>s("eligibility"),children:"Remove Eligiblity Override"})]}),(0,k.jsxs)("div",{children:[(0,k.jsx)("p",{children:"Override Date"}),(0,k.jsx)("input",{className:nr,type:"datetime-local",value:a,onChange:e=>r(e.target.value)}),(0,k.jsx)(g.$,{size:"small",onClick:()=>i("datetime"),children:"Remove Date/Time Override"})]}),(0,k.jsx)(g.$,{size:"small",onClick:n,children:"Remove All Overrides"})]})},rr=new We.l("lookupDebug","query","06b6d7798e1149749a96c5399fbacd911f8cca5f6fb4edf4efc1c4d64de881b5",null);var ir=s(31026),lr=s(80337),or=s(81834),cr=s(27963);const dr="coy21BK2YBTFtmDx4TNO",ur="qqllJKnB60UvRvOwb8a2";function hr(e){return Boolean(e)}function mr(e){return(0,ir.yr)(e)}const pr=()=>{const{request:e}=(0,n.useContext)(or.j),[t,s]=(0,Fs.x)(lr.P,[]),[a,r]=(0,n.useState)(""),i=async()=>{if(!function(e){const t=(0,Ae.o_h)(e);return!(!t||(0,Ae.Z0m)(t)||t?.id===Ae.NQG.COLLECTION||!(!t||(0,Ae._Tv)(t)||(0,Ae.ecE)(t)||(0,Ae.gHQ)(t)||(0,Ae.APS)(t)||(0,Ae.U_m)(t)||(0,Ae.WB1)(t)||(0,Ae.nuB)(t)))}(a))return;const n=await(0,cr.c)(e,rr,{uris:[a]}),r=n?.data?.lookup.map(mr).filter(hr)||[];s(r.concat(t))};return(0,k.jsxs)("div",{className:dr,children:[(0,k.jsx)("h1",{children:"Home"}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h2",{children:"Shortcuts override"}),(0,k.jsxs)(h.g,{label:"Entity URI to add",labelFor:"shortcut_to_add",children:[(0,k.jsx)(x.Z,{id:"shortcut_to_add",type:"text",placeholder:"spotify:episode:123123",value:a,onChange:e=>r(e.currentTarget.value)}),(0,k.jsxs)(Is.N,{children:["Right now we only allow: Artist, Album, Audiobook, Podcast, Track, User, Playlist, Episode and Chapter.",(0,k.jsx)("br",{})," For more info check the HomeV2ShortcutsShelf logic."]})]}),(0,k.jsx)(g.$,{size:"small",className:ur,disabled:0===a.length,onClick:()=>{i()},children:"Add to Shortcuts"}),(0,k.jsx)(g.$,{size:"small",className:ur,onClick:()=>{s([])},children:"Clear all overrides"})]})]})};var xr=s(27042);const gr="WAiWdE4pBSCiS9bz5mI7",jr="WU9QRIfJrSPefs8V7QI0",vr="pb99Xy2ZbO0AVWK2BIvI",fr="G_PJW1iqB1P56Y5QBCja",yr=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],br=()=>{const e=(0,Ta.wA)(),t=(0,Ta.d4)((e=>e.inAppMessaging.env)),s=(0,Ta.d4)((e=>e.inAppMessaging.message)),[a,r]=(0,n.useState)(""),[i,l]=(0,n.useState)(""),[o,c]=(0,n.useState)(!1);(0,n.useEffect)((()=>{s&&o&&c(!1)}),[s,o]);const d=!s&&o;return(0,k.jsx)("div",{className:gr,children:(0,k.jsxs)("div",{className:jr,children:[(0,k.jsx)("div",{children:(0,k.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,k.jsx)(Ua.C,{dir:"auto",value:t,id:"desktop.settings.inAppMessagingEnv",onSelect:function(t){"prod"!==t&&"dev"!==t||e((0,xr.$h)(t))},children:yr.map((({label:e,value:t})=>(0,k.jsx)("option",{value:t,children:e},t)))}),(0,k.jsx)("div",{children:(0,k.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,k.jsx)("div",{children:(0,k.jsx)("input",{className:vr,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:a,onChange:function(e){r(e.target.value),c(!1)}})}),(0,k.jsx)("div",{children:(0,k.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,k.jsx)("div",{children:(0,k.jsx)("input",{className:vr,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:i,onChange:function(e){l(e.target.value),c(!1)}})}),(0,k.jsx)("div",{}),(0,k.jsx)("div",{}),(0,k.jsx)("div",{children:(0,k.jsx)(g.$,{colorSet:"invertedLight",onClick:function(t){t.preventDefault(),e((0,xr.yR)(a,i)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,k.jsx)("div",{className:fr,children:"No Messsage found"})]})})};var Nr=s(19616),wr=s(24723);const Cr="CWbF6pzynkRv3fi29lB1",Sr="HJW0XXBdaYKM50QJ957Z",Ar="ELSpUVm2MXGkQ_0rlJaj",kr="BEbSBX8wHpFESTzhAAUs",Er="debugWindowActiveTabGroup",Ir="debugWindowActiveTabIndex",Or=()=>{const e=(0,un.p)().getCapabilities().canGetFiles,t=(0,Qa.M)(),s=(0,B.ZY)(),a=(0,n.useRef)(null);(0,n.useEffect)((()=>{s&&(s.title="Spotify Debug Window")}),[s]);const d=(0,n.useMemo)((()=>Object.fromEntries(Object.entries({Authorization:[{label:"Access Token",Panel:ie},{label:"Product State",Panel:_n}],Playback:[{label:"Player",Panel:kn},e?{label:"Playback",Panel:Sn}:null,{label:"Connect",Panel:ue},t?{label:"Social Connect",Panel:er}:null].filter(Ze.P),"Data Fetching":[{label:"Esperanto",Panel:Ns},{label:"PubSub",Panel:qn},null,{label:"Metadata Extensions",Panel:tn}].filter(Ze.P),UI:[{label:"Routing",Panel:Ca},null].filter(Ze.P),Content:[{label:"Audiobooks",Panel:ne},{label:"Playlist",Panel:Pn}],Other:[null,{label:"Settings",Panel:Ea},{label:"Remote Config",Panel:ba},{label:"Ads",Panel:E},{label:"In-App Messaging",Panel:br},{label:"Your DJ",Panel:wr.fW},{label:"Home",Panel:pr},{label:"Premium Page",Panel:ar},{label:"Font Width Estimation",Panel:As}].filter(Ze.P)}).filter((([e,t])=>t.length>0)))),[e,t]),u=Object.keys(d),h=(0,da.q)(),m=h.getItem(Er),p="string"==typeof m&&m in d?m:u[0],[x,g]=(0,n.useState)(p),j=h.getItem(Ir),v="number"==typeof j&&j in d[x]?j:0,[f,y]=(0,n.useState)(v),b=d[x][f].className,N=d[x][f].Panel;return(0,k.jsx)(Nr.SnackbarProvider,{domRootRef:a,children:(0,k.jsx)("div",{className:r()("encore-dark-theme","encore-layout-themes"),children:(0,k.jsxs)("div",{className:Cr,children:[(0,k.jsx)(i.V,{className:Sr,children:(0,k.jsx)(l.r,{flexMobile:!0,children:u.map((e=>(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(o.D,{children:e}),d[e].map(((t,s)=>(0,k.jsx)(c.a,{active:x===e&&f===s,label:t.label,onClick:()=>{g(e),h.setItem(Er,e),y(s),h.setItem(Ir,s)},className:Ar,children:t.label},t.label)))]},e)))})}),(0,k.jsx)("div",{className:r()(kr,b),ref:a,children:(0,k.jsx)(N,{})})]})})})}},99348:(e,t,s)=>{s.d(t,{y:()=>n.y});var n=s(37921)},21762:(e,t,s)=>{s.d(t,{C:()=>r});var n=s(62411),a=s(7307);const r=()=>{const e=(0,n.d4)((e=>e.session?.user));return e?{type:a.c.USER,uri:e.uri,username:e.id,displayName:e.display_name??null,images:e.images.map((({url:e,width:t,height:s})=>({url:e,width:t||void 0,height:s||void 0})))}:null}},8284:(e,t,s)=>{s.d(t,{d:()=>r});var n=s(30758),a=s(29064);const r=()=>(0,n.useContext)(a.D)},38694:(e,t,s)=>{s.d(t,{F:()=>r});var n=s(30758),a=s(3326);function r(e,t){const s=(0,n.useRef)(t),r=(0,a.p)();s.current=t,(0,n.useEffect)((()=>r.getEvents().addListener(e,(e=>{s.current(e)}))),[e,r])}},54866:(e,t,s)=>{s.d(t,{x:()=>r});var n=s(53249),a=s(30157);function r(){return(0,a.N)(n.b)}},90754:(e,t,s)=>{s.d(t,{c:()=>l});var n=s(30758),a=s(66530),r=s(10565),i=s(66238);function l(e,t){const s=(0,r.d)(),l=(0,i.A)(t),o=(0,a.a)();(0,n.useEffect)((()=>s.getBroadcastingEvents().addListener(e,(e=>{o()&&l(e)}))),[s,l,e,o])}},61979:(e,t,s)=>{s.d(t,{h:()=>n});s(1903),s(40098);function n(e){return"object"!=typeof e||null===e?e:window.structuredClone?window.structuredClone(e):JSON.parse(JSON.stringify(e))}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map