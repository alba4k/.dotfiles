"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[1460],{32183:(e,i,t)=>{t.d(i,{g:()=>y});var s=t(30758),r=t(97500),n=t.n(r),a=t(95530),l=t(22726),c=t(65462),d=t(78516),o=t(29454),u=t(99701),m=t(21082),x=t(27012),h=t(33329),j=t(14178),p=t(86070);const y=({children:e,uri:i,name:t,nonInteractive:r=!1,creatorUri:y,spec:g})=>{let v=null;const{draggable:f,onDragStart:b}=(0,x.P)({itemUris:[i],dragLabelText:t}),k=(0,h.s)(),E=(0,s.useCallback)((()=>{g&&k.logInteraction(g.albumLinkFactory({uri:i}).hitUiNavigate({destination:i}))}),[k,g,i]);return r?(0,p.jsx)("span",{className:n()("standalone-ellipsis-one-line",j.A.text),children:e}):((0,l._Tv)(i)&&(v=(0,p.jsx)(d.h,{uri:i,artistUri:y})),(0,l.WB1)(i)&&(v=(0,p.jsx)(o.H,{uri:i})),(0,p.jsx)(c.h,{menu:v,children:(0,p.jsx)(a.E,{variant:"bodySmall",children:(0,p.jsx)(u.Zp,{label:t,showDelay:u.uF,children:(0,p.jsx)(m.N,{draggable:f,onDragStart:b,className:n()("standalone-ellipsis-one-line"),to:i,dir:"auto",onClick:E,children:e})})})}))}},89771:(e,i,t)=>{t.d(i,{H:()=>c});var s=t(83582),r=t(95530),n=t(31417),a=t(45387),l=t(86070);const c=()=>(0,l.jsxs)("div",{className:a.A.emptyContainer,children:[(0,l.jsx)(s.q,{size:"xxlarge","aria-hidden":"true"}),(0,l.jsxs)("div",{className:a.A.titleContainer,children:[(0,l.jsx)(r.E,{as:"h1",variant:"titleMedium",semanticColor:"textBase",children:n.Ru.get("history.empty-title")}),(0,l.jsx)("p",{children:n.Ru.get("history.empty-description")})]})]})},61896:(e,i,t)=>{t.d(i,{U:()=>B});var s=t(31417),r=t(30758),n=t(97500),a=t.n(n),l=t(85387),c=t(95530),d=t(53860),o=t(84703),u=t(26639),m=t(47660),x=t(10994),h=t(12864);const j="main-topBar-contentArea",p="queue-tabBar-headerIsCentered",y="queue-tabBar-headerItem",g="queue-tabBar-moreButton",v="queue-tabBar-moreButtonActive",f="yxf_6IsQEmHjijEBUMTP",b="queue-tabBar-active",k="queue-tabBar-headerItemLink",E="queue-tabBar-header",R="queue-tabBar-chevron";var C=t(86070);const A=({items:e,activeItemId:i})=>(0,C.jsx)(x.W,{children:e.map((e=>e.disabled?(0,C.jsx)(h.D,{disabled:!0,role:"menuitemradio",className:f,onClick:e.handleClick,children:e.title},e.uri):(0,C.jsx)(h.D,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>a()(f,{[b]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var I=t(40638),N=t(30147),P=t(99644);const U=(0,r.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:n}){const x=(0,r.useRef)(null),[h,f]=(0,r.useState)([]),[U,w]=(0,r.useState)(0),[T,S]=(0,r.useState)([]),O=function(){const[e,i]=(0,r.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,r.useContext)(N.bi),s=(0,I.YQ)((e=>{e?.width&&i(e.width)}),250);return(0,P.w)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:B}=(0,l.zy)(),_=i.find((e=>e.to===B));return(0,r.useEffect)((()=>{x.current&&w(x.current.clientWidth)}),[O]),(0,r.useEffect)((()=>{if(!x.current)return;const e=Array.from(x.current.children).map((e=>e.clientWidth));f(e)}),[i]),(0,r.useEffect)((()=>{if(!x.current)return;if(h.slice(0,-1).reduce(((e,i)=>e+i),0)<=U)return void S([]);const e=h.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;h.forEach(((e,s)=>{U>=t+e?t+=e:i.push(s)})),S(i)}),[U,h]),(0,C.jsx)("nav",{className:a()(n,j),"aria-label":t,children:(0,C.jsxs)("ul",{className:e?p:E,ref:x,children:[i.filter(((e,i)=>!T.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,C.jsx)(r.Fragment,{children:i((0,C.jsx)("li",{className:y,children:e.disabled?(0,C.jsx)("div",{className:k,children:(0,C.jsx)(c.E,{variant:"bodySmallBold",children:e.title})}):(0,C.jsx)(m.k,{end:!0,className:({isActive:e})=>a()(k,{[b]:e}),to:e.to,onClick:e.handleClick,children:(0,C.jsx)(c.E,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),T.length||0===h.length?(0,C.jsx)("li",{className:y,children:(0,C.jsx)(u.t,{renderInline:!0,menu:(0,C.jsx)(A,{items:i.filter(((e,i)=>T.includes(i))),activeItemId:_?.itemId}),children:(e,i,t)=>(0,C.jsxs)("button",{className:a()(g,{[v]:_}),type:"button",onClick:i,ref:t,children:[(0,C.jsx)(c.E,{variant:"bodySmallBold",children:_?_.title:s.Ru.get("more")}),e?(0,C.jsx)(d.J,{size:"small",className:R,"aria-hidden":"true"}):(0,C.jsx)(o.y,{size:"small",className:R,"aria-hidden":"true"})]})})}):null]})})}));var w=t(2505);const T="XfifUos51Clgs5a6nf2m",S=()=>{const e=[{title:s.Ru.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue"},{title:s.Ru.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}];return(0,C.jsx)(w.g,{children:(0,C.jsx)(U,{className:T,links:e})})};var O=t(98855);const B=({children:e})=>{const i=(0,O.y)();return(0,C.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,C.jsx)(S,{})]})}},13129:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ne});var s=t(2983),r=t(95530),n=t(31417),a=t(89771),l=t(30758),c=t(37115),d=t(96614),o=t(4266),u=t(22726),m=t(65462),x=t(62648),h=t(91676),j=t(76720),p=t(54622),y=t(32183),g=t(80737),v=t(14563),f=t(20455),b=t(50915),k=t(27305),E=t(95931),R=t(82391),C=t(13679),A=t(38215),I=t(93627),N=t(95797),P=t(62358),U=t(44335),w=t(3436),T=t(42621),S=t(99041),O=t(97253),B=t(18663),_=t(44672),D=t(85346),L=t(28340),q=t(7307),M=t(15838),F=t(14178),G=t(86070);const H=l.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:a,album:l,isExplicit:c,isMOGEFRestricted:d,contextItem:o,type:H}){const{isActive:K,isPlaying:Q,triggerPlay:W,togglePlay:z}=(0,L.P)({uri:e,pages:[{items:[{...o}]}]},{featureIdentifier:"history"}),J=H===q.c.TRACK,X=H===q.c.EPISODE,Z=H===q.c.CHAPTER,V=(0,D.T)(e),{isPlayable:Y,isAnyArtistBanned:$}=(0,T.g)(e,{isPlayable:!0,isLocal:(0,u.PkR)(e),isOutOfMarket:!1,artistUris:a?.map((e=>e.uri))}),{unBanArtists:ee}=(0,w.M)(a.map((e=>e.uri))),{badges:ie,hasBadges:te}=(0,M.b)({downloadAvailability:V,isExplicit:c,isMOGEFRestricted:d}),se=a?.map((e=>e.name)).join(n.Ru.getSeparator())||"";let re;return X?re=(0,G.jsx)(h.b,{uri:e,contextUri:e,showUri:l.uri}):Z?re=(0,G.jsx)(x.r,{uri:e}):J&&(0,u.PkR)(e)?re=(0,G.jsx)(j.A,{uri:e,contextUri:e}):J&&(re=(0,G.jsx)(p.P,{uri:e,contextUri:e,albumUri:l.uri,artists:a})),(0,G.jsx)(_.pZ,{value:"row",index:s,children:(0,G.jsx)(m.h,{menu:re,children:(0,G.jsxs)(P.w,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{W()},isActive:K,isPlayable:Y,isAnyArtistBanned:$,handleArtistBanUndoClick:ee,ageRestricted:d,dragMetadata:{name:i,createdBy:se},children:[(0,G.jsxs)(C.U,{ariaColIndex:0,children:[(0,G.jsx)(b.u,{uri:e,src:r,isPlaying:Q,isActive:K,isLocked:!1,onClick:()=>{z()},isEpisode:(0,u.gHQ)(e),playAriaLabel:n.Ru.get("tracklist.a11y.play",i,se)}),(0,G.jsxs)(k.l,{children:[(0,G.jsx)(N.p,{titleText:i,children:i}),te&&(0,G.jsxs)(v.P,{children:[ie.download&&(0,G.jsx)(O._,{}),ie.explicit&&(0,G.jsx)(S.U,{}),ie.nineteen&&(0,G.jsx)(B.q,{className:F.A.nineteen,size:16})]}),(0,G.jsx)(I.p,{children:(0,u.U_m)(e)?(0,G.jsx)(g.l,{artists:a}):a[0]?.name??""})]})]}),(0,G.jsx)(A.o,{ariaColIndex:2,children:(0,G.jsx)(y.g,{nonInteractive:(0,u.PkR)(e),uri:l.uri,name:l.name,creatorUri:a?.[0]?.uri,children:l.name})}),(0,G.jsxs)(R.l,{ariaColIndex:1,children:[!Z&&(0,G.jsx)(U.d,{uri:e,type:H}),(0,G.jsx)(f.P,{duration:t}),(0,G.jsx)(E.Y,{menu:re,label:n.Ru.get("more.label.track",i,se)})]})]})})})}),((e,i)=>e.uri===i.uri));var K=t(28828),Q=t(75497),W=t(13947),z=t(45627),J=t(5805),X=t(4861),Z=t(85907),V=t(63096);const Y=l.memo((function({items:e}){const i=(0,l.useCallback)(((e,i)=>{const t=(0,V.g)(e.images??[],{desiredSize:40});return(0,J.v)(e)?(0,G.jsx)(H,{index:i,uri:e.isLocal?e.uri:(0,K.a)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:q.c.TRACK},i+e.uri):(0,z.p)(e)?(0,G.jsx)(H,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:q.c.EPISODE},i+e.uri):(0,W.d)(e)?(0,G.jsx)(H,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:q.c.CHAPTER},i+e.uri):((0,Q.N)(e)||(0,X.v)(e)||(0,Z.k)(e),(0,G.jsx)(c.qq,{height:`${d.FL}px`}))}),[]),t=(0,l.useMemo)((()=>[o.$.TITLE_AND_ARTIST,o.$.ALBUM_OR_PODCAST,o.$.DURATION]),[]),s=(0,l.useCallback)((e=>({uri:e.uri})),[]);return(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(_.pZ,{value:"play-history-tracklist",children:(0,G.jsx)(d.S4,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:c.qq,limit:50,columnPersistenceKey:"play-history-tracklist"})})})}));var $=t(44003);const ee="j0idwRGPXbi0ampiGHUF",ie="V6Kms48prL8QhkQxTJ2d",te=()=>{const{isLoading:e,data:i}=(0,$.a)();return e?null:i?.items.length?(0,G.jsxs)("div",{className:ee,children:[(0,G.jsx)(r.E,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:ie,children:n.Ru.get("view.recently-played")}),(0,G.jsx)(Y,{items:i.items})]}):(0,G.jsx)(a.H,{})};var se=t(61896),re=t(98855);const ne=()=>(0,re.y)()?(0,G.jsx)(se.U,{children:(0,G.jsx)(te,{})}):(0,G.jsx)(s.$,{to:"/"})},44003:(e,i,t)=>{t.d(i,{a:()=>d});var s=t(16273),r=t(50486),n=t(81823),a=t(44621),l=t(30758);const c=["play-history-contents"];function d(){const e=(0,a.q)(),i=(0,s.jE)();return function(e,i){const t=(0,a.q)();(0,l.useEffect)((()=>t.getEvents().addListener(e,i)),[e,i,t])}(n.X.UPDATE,(e=>i.setQueryData(c,e.data))),(0,r.I)({queryKey:c,queryFn:()=>e.getContents(),gcTime:3e5,staleTime:0})}},28828:(e,i,t)=>{t.d(i,{a:()=>s});const s=e=>e?.linked_from?.uri||e.uri},45387:(e,i,t)=>{t.d(i,{A:()=>s});const s={emptyContainer:"BP2Fv3OX_ZYbjdA4lovg",titleContainer:"Olk6uKV_CIIVtWRrdRJc"}}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map