"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[8828],{51872:(e,t,l)=>{l.d(t,{s:()=>y});var a=l(30758),r=l(97500),s=l.n(r),i=l(86228),n=l(41961),o=l(17287),c=l(22949);const u="IVnoxrO3iL_tz5ULI8g_";var d=l(86070);const g={marginBlockEnd:0,willChange:"transform, opacity"},m=({filterId:e=null,isPrimaryFilter:t,isPlaceholder:l,resetFilterIds:r,toggleFilterId:n,className:o,innerRef:c,onFilterClick:m,index:p=0,...y})=>{const f=y.selected,h=(0,a.useCallback)((()=>{if(!e)return r(),void m(null,!1,p);m(e,!!f,p),n(e)}),[e,r,n,m,f,p]),k=(0,a.useCallback)((e=>{e.detail>1||l||h()}),[l,h]);return(0,d.jsx)(i.v,{...y,className:s()(o,{[u]:l}),onClick:k,selectedColorSet:"invertedLight",secondary:f&&!t,style:g,ref:c,tabIndex:-1})},p=({filterId:e=null,isPlaceholder:t,resetFilterIds:l,toggleFilterId:r,className:i,innerRef:o,onFilterClick:c,index:m=0,...p})=>{const y=p.selected,f=(0,a.useCallback)((()=>{if(!e)return l(),void c(null,!1,m);c(e,!!y,m),r(e)}),[e,l,r,c,y,m]),h=(0,a.useCallback)((e=>{e.detail>1||t||f()}),[t,f]);return(0,d.jsx)(n.m,{...p,"aria-label":p["aria-label"],className:s()(i,{[u]:t}),onClick:h,style:g,ref:o,tabIndex:-1})},y=(0,a.memo)((function({placeholderFilters:e=[],availableFilters:t,selectedFilters:l,toggleFilterId:r,resetFilterIds:s,onFilterClick:i,ariaLabel:n,clearBtnAriaLabel:u,className:g,applyLightThemeControls:y=!1}){const f=!(l||t),h=f?e:[...l??[],...t??[]],k=(0,a.useRef)(null),x=(0,a.useCallback)((()=>{(0,c.MS)(k.current,k.current?.nextElementSibling instanceof HTMLElement?k.current?.nextElementSibling:null),s()}),[s]);return 0===h.length?null:(0,d.jsxs)(o.FN,{className:g,ariaLabel:n,applyLightThemeControls:y,children:[!!l?.length&&(0,d.jsx)(p,{resetFilterIds:x,toggleFilterId:r,onFilterClick:i,"aria-label":u??n,innerRef:k}),h.map(((e,t)=>{const a=l?.includes(e),n=0===t;return(0,d.jsx)(m,{filterId:e.id,isPrimaryFilter:n,isPlaceholder:f,onFilterClick:i,resetFilterIds:s,toggleFilterId:r,selected:a,index:t,children:e.getName()},e.id)}))]})}))},47667:(e,t,l)=>{l.d(t,{b:()=>I});var a=l(30758),r=l(31417),s=l(38682),i=l(550),n=l(39795),o=l(95446),c=l(76633),u=l(6966),d=l(82610),g=l(96614),m=l(4266),p=l(41457),y=l(44672),f=l(20784),h=l(33329),k=l(13719),x=l(63096),T=l(86070);const C=new Set(o.gc),b=new Set([]),I=a.memo((function({nrTracks:e,collectionUri:t,initialItems:l,uri:I,sortable:S=!0,scrollToUri:A,usePlayContextItem:F,outerDomRef:D,spec:j,isCompactMode:R=!1,tagFilter:P}){const w=(0,f.f)(),L=(0,a.useRef)(null),{filter:E}=(0,a.useContext)(n.g),_=(0,a.useRef)((()=>{})),[v,M]=(0,a.useState)([]),{sortState:N,setSortState:U}=(0,a.useContext)(o.cL),O=(0,h.s)(),B=(0,c.w)(),$=(0,a.useCallback)(((e,t)=>{e===m.$.ADDED_AT?U({column:m.$.ADDED_AT,order:N.order===m.H.ASC?m.H.DESC:m.H.ASC}):U((0,s.So)(e,N)),j&&O.logInteraction(j.columnHeaderFactory({identifier:e,position:t||0}).hitSort())}),[O,U,N,j]);(0,a.useEffect)((()=>{L.current&&A&&L.current.scrollToItem({uri:A})}),[A]);const V=(0,a.useCallback)((e=>{const t=e.map((e=>e.uri));_.current(),w.remove({uris:t})}),[w]),z=(0,a.useCallback)(((e,t)=>{_.current=t,e.length>1?M(e):V(e)}),[V]),[,H]=(0,u.z)(),K=(0,a.useCallback)((async(e,t)=>{const l=await w.getTracks({offset:e,limit:t,uri:I,sort:(0,p.c)(N),filters:[E??null,P??null].filter(k.P)}),a=l?.totalLength??0;return{items:l?.items??[],totalLength:a}}),[E,P,w,N,I]),q=(0,a.useCallback)(((e,l)=>{const a=(0,x.g)(e.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,T.jsx)(d.W,{index:l,contextUri:t,uri:e.uri,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,albumOrShow:e.album,isExplicit:e.isExplicit,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:e.isLocal,addedBy:[],dateAdded:e.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:a?.url||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:F,allowedDropTypes:[],isDisliked:!1,playlistName:r.Ru.get("sidebar.liked_songs"),isOwnedBySelf:!0,isCompactMode:R,hasAssociatedVideo:e.hasAssociatedVideo},l+e.uri)}),[t,F,R]),Q=(0,a.useCallback)((e=>({uri:e.uri,uid:e.uri})),[]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(y.pZ,{value:"liked-songs-tracklist",children:(0,T.jsx)(g.S4,{ariaLabel:r.Ru.get("sidebar.liked_songs"),hasHeaderRow:!0,columns:B,sortableColumns:w.getCapabilities().canSortTracksAndEpisodes&&S?C:b,sortState:N,onSort:$,renderRow:q,resolveItem:Q,onRemove:z,nrTracks:e,fetchTracks:K,limit:50,canFetchAllTracks:w.getCapabilities().canFetchAllItems,outerRef:L,outerDomRef:D,tracks:l,onNrValidItemsChange:H,isCompactMode:R,columnPersistenceKey:"liked-songs-tracklist"},t)}),(0,T.jsx)(i.F,{title:r.Ru.get("remove_from_your_liked_songs"),isOpen:v.length>0,tracks:v,onClose:e=>{e.stopPropagation(),M([])},onRemove:V})]})}))},41457:(e,t,l)=>{l.d(t,{c:()=>n});var a=l(38682),r=l(13357),s=l(34939);const i={[s.nw.ADDED_AT]:r.Sw.ADDED_AT,[s.nw.ADDED_BY]:null,[s.nw.ALBUM]:r.Sw.ALBUM_NAME,[s.nw.ARTIST]:r.Sw.ARTIST_NAME,[s.nw.DURATION]:null,[s.nw.TITLE]:r.Sw.NAME,[s.nw.SHOW_NAME]:null,[s.nw.PUBLISH_DATE]:null},n=e=>{const t=(0,a.Xt)(e);if(!t)return;const l=i[t.field],r=t.order;return l&&r?{field:l,order:r}:void 0}},85751:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Ve});var a=l(30758),r=l(62411),s=l(85387),i=l(28454),n=l(14343),o=l(88775),c=l(22726),u=l(31417),d=l(15292),g=l(58757),m=l(92202),p=l(39795),y=l(95446),f=l(6966),h=l(60690),k=l(4266),x=l(88260),T=l(60038),C=l(45664),b=l(83812),I=l(35895),S=l(67239),A=l(68448),F=l(87621),D=l(30416),j=l(76633),R=l(21549),P=l(11860),w=l(86070);const L=a.memo((({tracklistDomRef:e})=>{const{spec:t,logger:l}=(0,R.r)(A.E,{}),r=(0,a.useCallback)((()=>{l.logInteraction(t.filterFieldFactory().keyStrokeFilter())}),[l,t]),s=(0,a.useCallback)((()=>{l.logInteraction(t.filterFieldFactory().hitClearFilter())}),[l,t]),i=(0,j.w)().filter((({columnType:e})=>y.gc.includes(e))).map((({columnType:e})=>e));return(0,w.jsxs)("div",{className:P.A.searchBoxContainer,children:[(0,w.jsx)(a.Suspense,{fallback:null,children:(0,w.jsx)(F.S,{placeholder:u.Ru.get("playlist.search_in_playlist"),clearOnEscapeInElementRef:e,onFilter:r,onClear:s})}),(0,w.jsx)(D.d,{columns:i})]})}));var E=l(97500),_=l.n(E),v=l(51872),M=l(16273),N=l(50486),U=l(24909),O=l(38501),B=l(26184),$=l(20784),V=l(99248),z=l(62021);const H="liked-songs-tags";function K(){const e=(0,n.NC)(O.cLA),[t,l]=(0,z.x)("liked-songs-current-tag-filter",null);return[e?t:null,l]}var q=l(33329);const Q="q_yjkS1y6URH4Xm7gZfw",X=e=>({id:e.filter,getName:()=>e.name,ubiId:e.name}),W=(0,a.memo)((({spec:e,nrTracks:t})=>{const{tags:l,currentTag:r,setCurrentTag:s}=function({nrTracks:e}){const t=(0,$.f)(),l=(0,M.jE)(),[r,s]=K(),[i,n]=(0,a.useState)([]),{data:o}=(0,N.I)({queryKey:[H],queryFn:()=>t?.getTracksFilterTags(),staleTime:0,gcTime:864e5,placeholderData:U.rX,refetchOnWindowFocus:!1});(0,a.useLayoutEffect)((()=>{const t=o?.find((e=>e.filter===r));if(!t&&r){if(e>0&&o?.length)return;s(null)}n(o??[])}),[r,s,e,o]);const c=(0,a.useCallback)((({data:{list:e}})=>{e===B.Ir.TRACKS&&l.invalidateQueries({queryKey:[H]})}),[l]);(0,V.l)(B.UV.UPDATE,c);const u=(0,a.useMemo)((()=>i.find((e=>e.filter===r))),[r,i]),d=(0,a.useCallback)((e=>{s(e?.filter??null)}),[s]);return{tags:r||e?i:[],currentTag:u,setCurrentTag:d}}({nrTracks:t}),i=(0,q.s)(),n=(0,a.useCallback)(((t,a,r)=>{let n;if(!t)return n=e.clearButtonFactory().hitClearFilter(),void i.logInteraction(n);const o=l.find((({filter:e})=>e===t));if(!o)return;const c=e.filterChipFactory({identifier:o.name,position:r});a?(n=c.hitClearFilter(),s(null)):(n=c.hitFilter(),o&&s(o)),i.logInteraction(n)}),[i,s,e,l]),o=r?[]:l.map(X),c=r?[X(r)]:[];return l.length?(0,w.jsx)(T.S,{children:(0,w.jsx)(v.s,{availableFilters:o,selectedFilters:c,toggleFilterId:()=>{},resetFilterIds:()=>s(null),onFilterClick:n,ariaLabel:u.Ru.get("web-player.liked-songs.liked-songs-filter-tags"),clearBtnAriaLabel:u.Ru.get("web-player.liked-songs.clear-filter"),className:_()(Q),applyLightThemeControls:!0})}):null}));var Z=l(47972),G=l(89849),Y=l(29997),J=l(29368),ee=l(35035),te=l(34939),le=l(83327),ae=l(43329);const re="ivuDaTbfBpBewwr39aDQ",se=a.memo((function({metadata:e,onClickTogglePlay:t,isPlaying:l,spec:r,logger:s,backgroundColor:i,canSort:o,canFilter:c}){const{uri:d,name:g,totalLength:m}=e,p=(0,a.useRef)(null),y=(0,a.useMemo)((()=>r.actionBarFactory()),[r]),f=(0,a.useMemo)((()=>y.shuffleButtonContainerFactory()),[y]),h=(0,a.useMemo)((()=>y.filtersFactory()),[y]),k=m>0,A=m>0,F=o&&c,D=(0,Y.X)(),j=(0,a.useCallback)(((e,t)=>{const l=y.downloadButtonFactory();t===ee.NV.ADD?s.logInteraction(l.hitDownload({itemToDownload:d})):t===ee.NV.REMOVE?s.logInteraction(l.hitRemoveDownload({itemToRemoveFromDownloads:d})):t===ee.NV.NO_PERMISSION&&s.logInteraction(l.hitUiReveal())}),[y,s,d]),R=(0,J.j)(),P=(0,n.NC)(O.cLA);return(0,w.jsxs)(x.E,{backgroundColor:i,children:[(0,w.jsxs)(T.S,{children:[A?(0,w.jsx)(I.D,{onClick:t,isPlaying:l,size:R,uri:d,ariaPauseLabel:u.Ru.get("playlist.a11y.pause",g),ariaPlayLabel:u.Ru.get("playlist.a11y.play",g)}):null,D&&(0,w.jsx)(le.r,{spec:f,children:(0,w.jsx)(G.Y,{entityName:g,contextUri:d,activationPlacement:"bottomEnd",size:R})}),(0,w.jsx)(C.f,{uri:d,canDownload:k,isFollowing:!0,onFollow:()=>{},size:R,onClick:j,condensed:!0}),F?(0,w.jsx)(le.r,{spec:y,children:(0,w.jsx)(b.u,{property:O.IZ_,renderNewExperience:()=>(0,w.jsx)("div",{className:re,children:(0,w.jsx)(Z.d,{sortOptions:[te.nw.TITLE,te.nw.ADDED_AT,te.nw.ARTIST,te.nw.ALBUM,te.nw.DURATION],defaultSortField:te.nw.ADDED_AT,filterPlaceholder:u.Ru.get("playlist.search_in_playlist"),enableViewModeMenu:!0})}),renderOldExperience:()=>(0,w.jsx)(L,{tracklistDomRef:p})})}):(0,w.jsx)("div",{className:re,children:(0,w.jsx)(b.u,{property:ae.mA,renderNewExperience:()=>(0,w.jsx)(S.g,{options:[],onSelect:()=>{},selected:null,enableViewModeMenu:!0})})})]}),P&&(0,w.jsx)(W,{spec:h,nrTracks:m})]})}));var ie=l(41457),ne=l(82610),oe=l(96614);var ce=l(79098),ue=l(59964);var de=l(91797),ge=l(72187),me=l(61147),pe=l(29074);const ye=({ariaLabel:e,columns:t,columnPersistenceKey:l,renderItem:r,defaultSortField:i})=>{const{playlist:n}=(0,ge.g)(),o=(0,pe.m)(),{canFetchAllTracks:c}=o.getCapabilities(),u=(0,de.K)(),d=(0,a.useRef)(null),{isCompactMode:g}=(0,me.a)(),m="custom-order"===i;(e=>{const t=(0,s.wQ)(),l=(0,s.zy)(),r="POP"!==t?new URLSearchParams(l.search).get("uid"):null;(0,a.useLayoutEffect)((()=>{e.current&&r&&e.current.scrollToItem({uid:r})}),[r,e])})(d);const{trackListSortState:p,onSort:y}=((e,t)=>{const{sortState:l,setSortState:r}=(0,ce.k)(),s=(0,a.useMemo)((()=>(0,ue.Ap)(e,l)),[e,l]),i=(0,a.useCallback)((e=>{r((0,ue.hK)(e,s,t))}),[t,r,s]);return{trackListSortState:s,onSort:i}})(t,m),f=(0,a.useCallback)((e=>({uri:e.uri,uid:e.uid,type:e.type})),[]),k=(0,a.useMemo)((()=>new Set((0,ue.g6)(t))),[t]);return(0,w.jsx)(h.a,{columns:t,children:(0,w.jsx)(oe.g0,{ariaLabel:e,hasHeaderRow:!0,columns:t,sortableColumns:k,sortState:p,onSort:y,renderRow:r,resolveItem:f,itemsCache:u,canFetchAllTracks:c,isCompactMode:g,columnPersistenceKey:l,outerRef:d},n.metadata.uri+g)})};var fe=l(44672),he=l(43863),ke=l(63096);const xe=[k.$.INDEX,k.$.TITLE_AND_ARTIST,k.$.ALBUM,k.$.ADDED_AT,k.$.DURATION],Te=a.memo((function({usePlayContextItem:e}){const{isCompactMode:t}=(0,me.a)(),l=(({isCompactMode:e=!1})=>{const t=[...xe];return e&&t.splice(t.indexOf(k.$.TITLE_AND_ARTIST),1,k.$.TITLE,k.$.ARTIST),t})({isCompactMode:t}),{playlist:{metadata:r}}=(0,ge.g)(),s=(0,a.useCallback)(((l,a)=>{if(!(0,he.Jy)(l))return(0,w.jsx)(w.Fragment,{});const s=(0,ke.g)(l.album?.images,{desiredSize:40,desiredLabel:"small"});return(0,w.jsx)(ne.W,{index:a,contextUri:r.uri,uri:l.uri,isPlayable:l.isPlayable,duration_ms:l.duration.milliseconds,name:l.name,artists:l.artists,albumOrShow:l.album,isExplicit:l.isExplicit,isMixedMedia:!1,isPaywalled:!1,isUserSubscribed:!1,isLocal:l.isLocal,addedBy:[],dateAdded:l.addedAt,hasDecoratedAddedBy:!1,release_date:"",isMOGEFRestricted:l.is19PlusOnly,type:l.type,imgUrl:s?.url||"",onMove:()=>{},onInsert:()=>{},usePlayContextItem:e,allowedDropTypes:[],isDisliked:!1,playlistName:u.Ru.get("sidebar.liked_songs"),isOwnedBySelf:!0,isCompactMode:t,hasAssociatedVideo:l.hasAssociatedVideo},a+l.uri)}),[r.uri,e,t]);return(0,w.jsx)(fe.pZ,{value:"liked-songs-tracklist",children:(0,w.jsx)(ye,{ariaLabel:u.Ru.get("sidebar.liked_songs"),columns:l,renderItem:s,columnPersistenceKey:"liked-songs-tracklist",defaultSortField:te.nw.ADDED_AT})})}));var Ce=l(12835),be=l(84291),Ie=l(20829),Se=l(28340),Ae=l(44898);const Fe=()=>{const{playlist:{metadata:e},contentsOptions:t}=(0,ge.g)(),l=(0,pe.m)(),{canSort:r,canFilter:s}=l.getCapabilities(),{uri:n,name:c,totalLength:m}=e,p=(0,be.z)("#5038a0"),{spec:y,logger:h}=(0,R.r)(o.k,{data:{uri:n}}),k=a.useMemo((()=>y.headerFactory()),[y]),x=a.useMemo((()=>y.tracklistFactory()),[y]),{isPlaying:T,togglePlay:C,usePlayContextItem:b,isActive:I}=(0,Se.P)((0,Ae.A)(e.uri,t),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),S=()=>{const e=(0,Ie.$I)({isPlaying:T,isActive:I,spec:y.actionBarFactory().playButtonFactory(),logger:h,uri:n});C({loggingParams:e})},[A]=(0,f.z)();return(0,w.jsxs)("section",{role:"presentation",className:P.A.playlist,"data-testid":"playlist-page",children:[(0,w.jsx)(d.Q,{children:u.Ru.get("playlist.page-title",c)}),(0,w.jsx)(Ce.x,{metadata:{...e,hasSpotifyTracks:!0},totalItems:A,isPlaying:T,togglePlay:S,backgroundColor:p,specLikedSongs:k}),(0,w.jsx)(se,{metadata:e,onClickTogglePlay:S,isPlaying:T,spec:y,logger:h,backgroundColor:p,canSort:r,canFilter:s}),(0,w.jsx)("div",{className:"contentSpacing",children:m>0?(0,w.jsx)(le.r,{spec:x,children:(0,w.jsx)(Te,{usePlayContextItem:b})}):(0,w.jsx)(g.p,{message:u.Ru.get("collection.empty-page.songs-subtitle"),title:u.Ru.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:u.Ru.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,w.jsx)(i.v,{"aria-hidden":"true"})})})]})};var De=l(47667),je=l(88308),Re=l(60393),Pe=l(83785);var we=l(61295),Le=l(36061),Ee=l(93004),_e=l(52610),ve=l(20164),Me=l(67291),Ne=l(13719);function Ue(e,t,l){const a={uri:e};return(0,_e.qq)(a,t),(0,ve.Pz)(a,l?.map((e=>(0,Me.HI)(e)??null)).filter(Ne.P)),a}const Oe=[k.$.INDEX,k.$.TITLE_AND_ARTIST,k.$.ALBUM,k.$.ADDED_AT,k.$.DURATION],Be=({data:e,canFilter:t,canSort:l})=>{const{uri:r,name:n,totalLength:c}=e.metadata,x=(0,a.useRef)(null),T=(0,be.z)("#5038a0"),[C]=K(),{filter:b}=(0,a.useContext)(p.g),{sortState:I,setSortState:S}=(0,a.useContext)(y.cL),{spec:A,logger:F}=(0,R.r)(o.k,{data:{uri:r}}),D=a.useMemo((()=>A.headerFactory()),[A]),j=a.useMemo((()=>A.tracklistFactory()),[A]);(0,a.useEffect)((()=>{null===I.column&&S({column:k.$.ADDED_AT,order:k.H.DESC})}),[I,S]);const L=(0,s.wQ)(),E=(0,s.zy)(),_="POP"!==L?new URLSearchParams(E.search).get("uri"):null,{isPlaying:v,togglePlay:M,usePlayContextItem:N,isActive:U}=(0,Se.P)(Ue(r,(0,ie.c)(I),[b,C].filter(Ne.P)),{featureIdentifier:"your_library",referrerIdentifier:"your_library"}),O=()=>{const e=(0,Ie.$I)({isPlaying:v,isActive:U,spec:A.actionBarFactory().playButtonFactory(),logger:F,uri:r});M({loggingParams:e})},[B]=(0,f.z)(),{isCompactMode:$}=(0,me.a)(),V=(({isCompactMode:e=!1})=>{const t=[...Oe];return e&&t.splice(t.indexOf(k.$.TITLE_AND_ARTIST),1,k.$.TITLE,k.$.ARTIST),t})({isCompactMode:$});return(0,w.jsx)(h.a,{columns:V,children:(0,w.jsxs)("section",{role:"presentation",className:P.A.playlist,"data-testid":"playlist-page",children:[(0,w.jsx)(d.Q,{children:u.Ru.get("playlist.page-title",n)}),(0,w.jsx)(Ce.x,{metadata:{...e.metadata,hasSpotifyTracks:!0},totalItems:B,isPlaying:v,togglePlay:O,backgroundColor:T,specLikedSongs:D}),(0,w.jsx)(se,{metadata:e.metadata,onClickTogglePlay:O,isPlaying:v,spec:A,logger:F,backgroundColor:T,canSort:l,canFilter:t}),(0,w.jsx)("div",{className:"contentSpacing",children:c>0?(0,w.jsx)(a.Suspense,{fallback:(0,w.jsx)(m.LoadingPage,{hasError:!1,errorMessage:u.Ru.get("error.request-collection-tracks-failure")}),children:(0,w.jsx)(le.r,{spec:j,children:(0,w.jsx)(De.b,{nrTracks:c,collectionUri:r,scrollToUri:_,usePlayContextItem:N,outerDomRef:x,spec:j,initialItems:e.contents.items,isCompactMode:$,tagFilter:C})})}):(0,w.jsx)(g.p,{message:u.Ru.get("collection.empty-page.songs-subtitle"),title:u.Ru.get("collection.empty-page.songs-title"),linkTo:"/search",linkTitle:u.Ru.get("collection.empty-page.songs-cta"),renderInline:!0,children:(0,w.jsx)(i.v,{"aria-hidden":"true"})})})]})})},$e=a.memo((function({user:e,uri:t}){const{filter:l}=(0,a.useContext)(p.g),{sortState:r}=(0,a.useContext)(y.cL),[s]=K(),i=function(e,t,l){const r=(0,$.f)(),s=(0,M.jE)(),i=(0,je.U0)((()=>["useLikedSongs",e,l]),[e,l]),{data:n}=(0,N.I)({queryKey:i(),queryFn:()=>r.getTracks(l),gcTime:18e5,placeholderData:U.rX,refetchOnWindowFocus:!1}),o=(0,a.useCallback)((()=>{s.invalidateQueries({queryKey:i()})}),[s,i]);(0,V.l)(B.UV.UPDATE,o);const c=(0,Re.$R)(t.id);return c&&n?{metadata:{uri:e,name:c.name,images:c.images,totalLength:n?.totalLength,unfilteredTotalLength:n.unfilteredTotalLength,owner:(0,Pe.w)(t)},contents:n}:null}(t,e,{offset:0,limit:25,sort:(0,ie.c)(r),filters:[l,s].filter(Ne.P)}),n=(0,$.f)().getCapabilities();return i?(0,w.jsx)(Be,{data:i,canFilter:n.canFilterTracksAndEpisodes&&i.metadata.unfilteredTotalLength>0,canSort:n.canSortTracksAndEpisodes&&i.metadata.unfilteredTotalLength>0}):(0,w.jsx)(m.LoadingPage,{hasError:!1,errorMessage:u.Ru.get("error.not_found.title.playlist"),loadOffline:n.canModifyOffline})})),Ve=()=>{const{user:e}=(0,r.d4)(Le.Ht);if((0,n.NC)(O.IZ_,{loadingValue:!1}))return(0,w.jsx)(we.W,{uri:Ee.DK,children:(0,w.jsx)(Fe,{})});if(null===e)return null;const t=(0,c.fHB)(e.id).toURI();return(0,w.jsx)(y.sn,{uri:t,children:(0,w.jsx)(p.s,{uri:t,children:(0,w.jsx)(f.S,{children:(0,w.jsx)($e,{uri:t,user:e})})})})}}}]);
//# sourceMappingURL=xpui-routes-collection-songs.js.map