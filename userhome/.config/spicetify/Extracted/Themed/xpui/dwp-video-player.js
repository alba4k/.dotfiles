"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7988],{50473:(e,i,t)=>{t.d(i,{VideoPlayer:()=>oi});var n=t(30758),r=t(62411),o=t(97500),s=t.n(o),a=t(85387),l=t(31417);var c=t(78813),d=t(86677),u=t(9043);const m="KopIqvLbHzuI_pYTXRSw";var v=t(86070);const f=({onMinimizeButtonClick:e})=>(0,v.jsx)("div",{className:s()(m),children:(0,v.jsx)(d.$,{"aria-label":l.Ru.get("ad-formats.dismissAd"),colorSet:"overMedia",iconOnly:u.b,onClick:e,size:"small"})});var p=t(32411),g=t(30714),y=t(44971),h=t(58685),x=t(75497);const P="Lk23rM5uSl5mgEXroOPH",C="XvNci8tJYTXGgFBNzRWg",b="Hj1B5D7WgG4aZkU8meAp",j="Xyaz284GhueBbBPn6gOS",V="pIMAcTC5w2dZdMGe4U_A",N="XeZ0TCAoRGXh8soWVo5S",w=({setVideoContainer:e})=>{const i=(0,r.wA)(),t=(0,h.o)((e=>e?.item??void 0),((e,i)=>e?.uri===i?.uri)),o=(0,x.N)(t)?t.url??void 0:void 0,d=((0,x.N)(t)?t.advertiser:void 0)||"Advertiser",u=(0,r.d4)((e=>e?.ads?.vto?.isMinimized)),m=(0,x.N)(t)&&"portrait"===t.videoOrientation,w=(0,n.useRef)(),R=(0,a.zy)();(0,n.useEffect)((()=>{w.current?i((0,c.iB)()):w.current=!0}),[i,R.pathname]);const[E,I]=(0,n.useState)(null);(0,n.useEffect)((()=>{i((0,c.MW)())}),[i]),(0,n.useEffect)((()=>{null!==E&&e(E)}),[e,u,E]);const M=s()(P,{[C]:m});return(0,v.jsx)(y.A,{className:b,animation:{overlay:{base:j,beforeClose:N,afterOpen:V},closeTimeoutMs:300},isOpen:!u,parentSelector:()=>document.querySelector(".VTO__modal-slot"),shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,contentLabel:l.Ru.get("ad-formats.advertisement"),children:(0,v.jsxs)("div",{className:M,children:[(0,v.jsx)("a",{"aria-label":l.Ru.get("ad-formats.video-ad-overlay.cta-button",{advertiserName:d}),className:M,"data-testid":"video-takeover-link",href:o?(0,p.H)(o):void 0,onClick:()=>{i((0,c.i2)(g.ee.CLICKED,g.Wh.VIDEO_TAKEOVER,g.Lv.VIDEO_PLAYER))},ref:e=>I(e),target:"_blank"}),(0,v.jsx)(f,{onMinimizeButtonClick:()=>{i((0,c.Oc)()),i((0,c.i2)(g.ee.COLLAPSED,g.Wh.MINIMIZE_BUTTON,g.Lv.VIDEO_PLAYER))}})]})})},R=({setVideoContainer:e})=>(0,r.d4)((e=>e?.ads?.vto?.isHidden))?null:(0,v.jsx)(w,{setVideoContainer:e});var E=t(78464),I=t(8143),M=t(40638);function k(){const[e,i]=(0,n.useState)(!1),t=(0,n.useRef)(null),r=(0,M.YQ)((()=>{t.current&&clearTimeout(t.current),t.current=setTimeout((()=>{i(!1)}),1500),i(!0)}),100,{maxWait:100,leading:!0}),o=(0,n.useCallback)((e=>{i(e),r.cancel()}),[r]);return(0,n.useEffect)((()=>()=>{t.current&&clearTimeout(t.current)}),[]),{isControlsVisible:e,setIsControlsVisible:o,handleKeepViewVisible:r}}var L=t(13208),A=t(77624),B=t(94098),O=t(1138),K=t(14343),D=t(60238),U=t(98293),F=t(68594),T=t(62435),z=t(74934),_=t(85771),W=t(33625),S=t(77071),H=t(45335),Z=t(66204),G=t(31193),X=t(909),Y=t(38501),q=t(608),$=t(21549);const Q="MBzbwWcyfbqSftBtnn3g",J=({noBackground:e,iconSize:i="small"})=>{const{setVideoPlayerUIFlag:t,videoPlayerUIFlags:n,videoPlayerMode:r}=(0,G.d)(),o=r===X.K.cinemaLegacy,{uri:a}=(0,q.f)(),{hideLyrics:c}=(0,Z.A)({referrer:"cinema-mode-toggle"}),d=(0,K.NC)(Y.Au4),{spec:u,logger:m}=(0,$.r)(D.E,{data:{uri:a??"",identifier:X.K.cinemaLegacy}});if(!d||r===X.K.fullscreen)return null;return(0,v.jsx)("div",{className:s()({[Q]:o}),children:(0,v.jsx)(F.D,{noBackground:e,active:o,label:o?l.Ru.get("video-player.default-view"):l.Ru.get("video-player.cinema-mode"),onClick:()=>{o?m.logInteraction(u.cinemaModeButtonFactory().hitUiHide()):m.logInteraction(u.cinemaModeButtonFactory().hitUiReveal()),c(),t(X.n.cinemaLegacy,!n.cinemaLegacy)},children:o?(0,v.jsx)(S.Q,{size:i}):(0,v.jsx)(H.C,{size:i})})})};var ee=t(72285),ie=t(60437),te=t(92849),ne=t(40339),re=t(8428),oe=t(32641);function se(){const e=(0,r.wA)(),i=(0,ne.XB)();return{enterPipVideoMode:(0,n.useCallback)((()=>{e((0,oe.R)(X.K.pip))}),[e]),leavePipVideoMode:(0,n.useCallback)((()=>{i===re.Z.NowPlayingView&&e((0,oe.R)(X.K.npv))}),[e,i])}}var ae=t(93629),le=t(16581);const ce="fuONPgUcYO2bf15HunlX",de=({noBackground:e,iconSize:i="small",uri:t})=>{const n=(0,r.d4)(ie.c),o=n===X.K.pip,{enterPipVideoMode:a,leavePipVideoMode:c}=se(),{item:d}=(0,W.L)()??{},{isActive:u}=(0,te.D)({item:d}),m=(0,h.o)(le.A3),{spec:f,logger:p}=(0,$.r)(D.E,{data:{uri:t,identifier:n}}),g=(0,ee.u)({parentAbsoluteLocation:f.pipButtonContainerFactory().getAbsoluteLocation()});if(!m)return null;let y=l.Ru.get("video-player.default-view");return o||(y=u?l.Ru.get("miniplayer.close"):l.Ru.get("miniplayer.open-in")),(0,v.jsx)("div",{className:s()({[ce]:o}),children:(0,v.jsx)(F.D,{noBackground:e,active:o,label:y,onClick:()=>{(0,ae.ge)()&&(0,ae.SP)(),o?(c(),p.logInteraction(g.pipButtonFactory({uri:t}).hitUiHide())):(a(),g.pipButtonFactory({uri:t}).hitUiReveal())},children:(0,v.jsx)(L.F,{size:i})})})};var ue=t(90020),me=t(98320),ve=t(34990),fe=t(87182),pe=t(41434);const ge="aHe1QDDI5hmYWAKf4MoR",ye="DtWKCk0YYDlZT11U1niL",he="RTSxo7zS2ozOeg4gnC2c",xe="ZcIaDrsIojjWZ_Xf_6iN",Pe="viN5UfPr2XfnYOWHTS0W",Ce="pLL2Ok4QckLG8GAWriCB",be=[{transform:"scale(1)",opacity:0},{transform:"scale(1.3)",opacity:1},{transform:"scale(1.6)",opacity:0}],je=[{transform:"scale(1)",opacity:1},{transform:"scale(1)",opacity:1}],Ve={duration:500,easing:"ease-out"},Ne=function({visible:e,className:i,darkOverlayOnHover:t=!1,animatePlayPauseButtonOnClick:o=!0,showProgressbar:a=!1}){const{videoPlayerMode:c}=(0,G.d)(),d=(0,r.wA)(),u=(0,z.lZ)(),m=(0,me.$)(),f=(0,K.NC)(Y.mzn),p=(0,n.useContext)(T.s),g=c===X.K.cinemaLegacy,y=(0,ve.j)(),x=(0,r.d4)((e=>e.platform.isDesktop)),{item:P}=(0,W.L)()??{},C=P?.uri??"",{isActive:b,onClick:j,showButton:V}=(0,te.D)({item:P}),N=m.getCapabilities().hasPipSupport,w=(0,fe.z)(),R=(0,h.o)((e=>e),((e,i)=>(0,pe.a)(e?.restrictions,i?.restrictions)&&e?.item?.uri===i?.item?.uri&&e?.isPaused===i?.isPaused)),{isPaused:E,canResume:I,canPause:M}=(0,z.Nh)(R),{spec:k,logger:S,UBIFragment:H}=(0,$.r)(D.E,{data:{uri:C,identifier:X.K.npv}}),Z=(0,n.useRef)(null),q=(0,n.useRef)(null),Q=(0,n.useCallback)((()=>{let e=null;E&&I?(w.resume(),S.logInteraction(k.playButtonFactory().hitPlay({itemToBePlayed:C})),e=Z):!E&&M&&(w.pause(),S.logInteraction(k.playButtonFactory().hitPause({itemToBePaused:C})),e=q),o&&e?.current?.animate&&e.current.animate(y?je:be,Ve)}),[M,I,E,S,w,k,C,o,y]),ee=(0,n.useMemo)((()=>g?null:V?(0,v.jsx)(F.D,{label:b?l.Ru.get("miniplayer.close"):l.Ru.get("miniplayer.open-in"),onClick:j,active:b,children:(0,v.jsx)(L.F,{size:"small"})}):x&&N?(0,v.jsx)(de,{uri:C}):null),[b,g,x,N,j,V,C]);return(0,v.jsxs)(H,{spec:k,children:[!f&&(0,v.jsxs)("div",{className:s()(ge,i,{[Ce]:e}),children:[(0,v.jsx)(ue.C,{renderInline:!0}),(0,v.jsx)(J,{}),ee,u&&(0,v.jsx)(F.D,{label:l.Ru.get("npv.full-screen"),onClick:()=>{p?.current&&((0,ae.X8)(p.current),d((0,U.f)()))},children:(0,v.jsx)(A.L,{size:"small"})})]}),t&&(0,v.jsx)("div",{tabIndex:-1,"data-prevents-ambient-mode":"false",className:s()(ye,{[Ce]:e})}),(0,v.jsxs)("div",{className:he,tabIndex:-1,"data-prevents-ambient-mode":"false",onClick:Q,onKeyDown:()=>{},"aria-label":E?l.Ru.get("play"):l.Ru.get("pause"),role:"button",children:[(0,v.jsx)("div",{className:xe,ref:Z,children:(0,v.jsx)(B.x,{size:"xlarge",width:48})}),(0,v.jsx)("div",{className:xe,ref:q,children:(0,v.jsx)(O.B,{size:"xlarge",width:48})})]}),a&&f&&(0,v.jsx)("div",{className:s()(Pe,{[Ce]:e}),children:(0,v.jsx)(_.x,{isPreview:!1,timerPlacement:"indicatorOnly"})})]})};function we(e,i){(0,n.useLayoutEffect)((()=>{i.current&&e(i.current)}),[i,e])}const Re="kJKEEG391Pf_PLzwG2Vm",Ee=({setVideoContainer:e})=>{const i=(0,n.useRef)(null);we(e,i);const{isControlsVisible:t,handleKeepViewVisible:r}=k(),o=document.getElementById("VideoPlayerCinema_ReactPortal");return null===o?null:(0,I.createPortal)((0,v.jsx)("div",{ref:i,hidden:!1,className:Re,onMouseMove:r,onFocus:r,"data-testid":"video-player-cinema",children:(0,v.jsx)(Ne,{visible:t})}),o)};var Ie=t(10495),Me=t(25720),ke=t(77141);const Le="dg_LeRfnn0R3ivigmbze",Ae="wdZZT43qDlLzMbBxRH7T",Be=({cinemaModeRef:e,setVideoContainer:i})=>{const t=(0,n.useRef)(null),{nowPlayingBarRef:r}=(0,Ie.JT)(),{videoPlayerUIFlags:o,setVideoPlayerUIFlag:s}=(0,Me.d)();we(i,t);const{isControlsVisible:a,handleKeepViewVisible:l}=k();return(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&s(X.n.cinemaLegacy,!1)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[s,o.cinemaLegacy]),e.current?r.current?(0,I.createPortal)((0,v.jsxs)("div",{ref:t,className:Le,onMouseMove:l,onFocus:l,"data-testid":"video-player-cinema",children:[(0,v.jsx)(ke.s,{containerElements:[e.current,r.current],active:!0,focusTrapOptions:{allowOutsideClick:!0}}),(0,v.jsx)(Ne,{visible:a,className:Ae})]}),e.current):(console.error("No ref found for nowPlayingBar!"),null):(console.error("No container found for cinema video!"),null)};var Oe=t(28145);const Ke=({setVideoContainer:e})=>{const i=(0,n.useRef)(null);we(e,i);const t=window.documentPictureInPicture?.window,r=t?.document.getElementById("document-pip-main-container"),o=(0,me.$)();return(0,n.useEffect)((()=>(t&&o.setWindow(t),()=>{o.setWindow(window)})),[t,o]),r?(0,I.createPortal)((0,v.jsx)("div",{ref:i,"data-testid":"video-player-document-pip",className:Oe.A.videoPlayerContainer}),r):(0,v.jsx)(v.Fragment,{})},De=n.memo((function({setVideoContainer:e,fullscreenModeRef:i}){const t=(0,n.useRef)(null);return we(e,t),i.current?(0,I.createPortal)((0,v.jsx)("div",{"data-testid":"video-player-fullscreen",className:s()("VideoFullscreenMode"),children:(0,v.jsx)("div",{className:"VideoFullscreenMode__video-container",ref:t})}),i.current):(console.error("No container found for fullscreen video!"),null)}));var Ue=t(30147);const Fe="_2r290M0vbnbQGfhLbvq",Te=({setVideoContainer:e})=>{const i=(0,n.useRef)(null),t=(0,Ue.v7)();we(e,i);const r=(0,n.useRef)(!0);(0,n.useEffect)((()=>(r.current=!0,()=>{r.current=!1})));const o=document.getElementById("VideoPlayerNpb_ReactPortal");return null===o?null:(0,I.createPortal)((0,v.jsx)("div",{ref:i,hidden:!1,className:Fe,style:{position:"relative"},onMouseDown:e=>{i.current&&t.current&&(e.stopPropagation(),e.preventDefault())},"data-testid":"video-player-npb"}),o)};var ze=t(63676),_e=t(89775);const We="H2mo30Z5kNiGZbZ9U2Nu",Se="TbZ7pNOfpFK2FmnFuQcW",He="BRt_JFU0qTnWIGCaWWJY",Ze=({visible:e})=>{const i=(0,r.wA)(),t=s()(Se,{[He]:e});return(0,v.jsx)("div",{className:We,children:(0,v.jsx)("div",{className:t,children:(0,v.jsx)(d.$,{"aria-label":l.Ru.get("npv.full-screen"),colorSet:"overMedia",iconOnly:A.L,onClick:e=>{e.stopPropagation(),e.preventDefault(),i((0,c.MW)()),i((0,c.i2)(g.ee.EXPANDED))},size:"small"})})})},Ge="Qhq7SHNg9UlhtkK9I6Km",Xe="ZWx9Xu8F_WoC4M_KEbtW",Ye=({element:e,handleKeepViewVisible:i,isControlsVisible:t,item:n,scrollNodeRef:o,setIsControlsVisible:a,setVideoContainer:l,videoContainerRef:c})=>{we(l,c);const d=(0,r.wA)(),u="portrait"===n.videoOrientation,m=n.url??void 0,f=s()(Ge,{[Xe]:u});return(0,I.createPortal)((0,v.jsx)("div",{ref:c,hidden:!1,className:f,onMouseLeave:()=>{a(!1)},onMouseDown:e=>{c.current&&o.current&&(e.stopPropagation(),e.preventDefault())},onMouseMove:i,onFocus:i,"data-testid":"ads-video-player-npv",children:m?(0,v.jsx)("a",{style:{zIndex:2},href:m,onClick:()=>{d((0,_e.q5)(ze.c.VIDEO_PLAYER,ze.V.AD_NPV))},"data-testid":"video-player-ad-wrapper",children:(0,v.jsx)(Ze,{visible:t})}):(0,v.jsx)(Ze,{visible:t})}),e)},qe="ouiL5cH1WduxtprQ0Iig",$e="ZFMDHV2keRjBzLaxEHri",Qe=({setVideoContainer:e})=>{const i=(0,n.useRef)(null),t=(0,Ue.v7)(),r=(0,h.o)((e=>e?.item??void 0),((e,i)=>e?.uri===i?.uri));we(e,i);const o=(0,n.useRef)(!0);(0,n.useEffect)((()=>(o.current=!0,()=>{o.current=!1})));const{isControlsVisible:s,setIsControlsVisible:a,handleKeepViewVisible:l}=k(),c=document.getElementById("VideoPlayerNpv_ReactPortal");return null===c?null:(0,x.N)(r)?(0,v.jsx)(Ye,{element:c,handleKeepViewVisible:l,isControlsVisible:s,item:r,scrollNodeRef:t,setIsControlsVisible:a,setVideoContainer:e,videoContainerRef:i}):(0,I.createPortal)((0,v.jsx)("div",{className:qe,children:(0,v.jsx)("div",{ref:i,hidden:!1,className:$e,onMouseLeave:()=>{a(!1)},onMouseDown:e=>{i.current&&t.current&&(e.stopPropagation(),e.preventDefault())},onMouseMove:l,onFocus:l,"data-testid":"video-player-npv",children:(0,v.jsx)("div",{ref:i,children:(0,v.jsx)(Ne,{visible:s,darkOverlayOnHover:!0,showProgressbar:!0})})})}),c)};const Je=e=>{const i=(()=>{const[e]=(0,n.useState)((()=>{const e=document.createElement("div");return e.classList.add("VideoPlayer__container"),e}));return e})();if((0,n.useLayoutEffect)((()=>{null!==e&&null!==i&&e.insertBefore(i,e.firstChild)}),[e,i]),i&&i.firstChild instanceof HTMLVideoElement){const e=i.firstChild;return`${e.videoWidth}/${e.videoHeight}`}return"16/9"};var ei=t(74096);var ii=t(79237),ti=t(62642);const ni=t(68436).S.PICTURE_IN_PICTURE_CHANGED;const ri=({setVideoContainer:e,videoContainerRef:i})=>(we(e,i),(0,v.jsx)("div",{ref:i,style:{display:"none"}})),oi=({cinemaModeRef:e,fullscreenModeRef:i})=>{const{videoPlayerMode:t}=(0,Me.d)(),o=(0,n.useRef)(null),[s,a]=(0,n.useState)(null),l=(0,r.d4)((e=>e.platform.isDesktop)),{isPlayingVideoAd:d}=(0,h.o)((e=>{const i=e?.item??void 0;return{isPlayingVideoAd:(0,le.A3)(e)&&(0,x.N)(i)}})),u=(0,r.d4)((e=>e?.ads?.vto?.isMinimized));if(Je(s),(()=>{const{isPlayingVideo:e,contextUri:i}=(0,h.o)((e=>({isPlayingVideo:(0,le.A3)(e),contextUri:e?.context.uri}))),{setVideoPlayerUIFlag:t}=(0,G.d)(),r=(0,ii.v)((({connectionStatus:e})=>e===ti.zP.CONNECTED||e===ti.zP.CONNECTING));(0,n.useEffect)((()=>{const i=e&&!r;t(X.n.videoAvailable,i)}),[e,r,t,i])})(),(()=>{const{setVideoPlayerUIFlag:e}=(0,G.d)(),i=(0,K.NC)(Y.mzn);(0,ei.P)((t=>{i||e(X.n.fullscreen,t)}))})(),(()=>{const e=(0,me.$)(),{videoPlayerMode:i}=(0,Me.d)(),{leavePipVideoMode:t}=se(),r=i===X.K.pip;(0,n.useEffect)((()=>e.getEvents().addListener(ni,(({data:e})=>{!e&&r&&t()}))),[e,r,t]),(0,n.useEffect)((()=>{const i=document.pictureInPictureElement;r&&!i&&e.setPip?.(!0),!r&&i&&e.setPip?.(!1)}),[e,r])})(),function(){const e=(0,me.$)(),{videoPlayerMode:i}=(0,G.d)(),[t,r]=(0,n.useState)(!document.hidden),[o,s]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e="visibilitychange",i=()=>{r(!document.hidden)};return document.addEventListener(e,i),()=>{document.removeEventListener(e,i)}}),[e,r]),(0,n.useEffect)((()=>{const n=!(i===X.K.pip||i===X.K.documentPip||i!==X.K.none&&t),r=e.getCapabilities().hasMinimizeBitrateSupport&&n;o!==r&&(e.setMinimizeBitrate(r),s(r))}),[e,i,t,o,s])}(),(()=>{const e=(0,r.wA)(),i=(0,n.useRef)(),{isPlayingVideoAd:t,playbackId:o}=(0,h.o)((e=>{const i=e?.item??void 0;return{isPlayingVideoAd:(0,le.A3)(e)&&(0,x.N)(i),playbackId:e?.playbackId}}));(0,n.useEffect)((()=>{t&&i.current!==o&&(e((0,c.MW)()),i.current=o)}),[o,t,e])})(),l&&d&&t!==X.K.pip&&!u)return(0,v.jsx)(R,{setVideoContainer:a});switch(t){case X.K.fullscreen:return(0,v.jsx)(E.s,{children:(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(De,{fullscreenModeRef:i,setVideoContainer:a})})});case X.K.cinema:return(0,v.jsx)(E.s,{children:(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(Ee,{setVideoContainer:a})})});case X.K.cinemaLegacy:return(0,v.jsx)(E.s,{children:(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(Be,{cinemaModeRef:e,setVideoContainer:a})})});case X.K.npv:return(0,v.jsx)(E.s,{children:(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(Qe,{setVideoContainer:a})})});case X.K.documentPip:return(0,v.jsx)(E.s,{children:(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(Ke,{setVideoContainer:a})})});case X.K.nowPlayingBar:return(0,v.jsx)(E.s,{children:(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(Te,{setVideoContainer:a})})});case X.K.none:default:return(0,v.jsx)("div",{ref:o,children:(0,v.jsx)(ri,{videoContainerRef:o,setVideoContainer:a})})}}},74934:(e,i,t)=>{t.d(i,{sY:()=>x,Nh:()=>h,bo:()=>P,r3:()=>y,EX:()=>g,lZ:()=>p});var n=t(14343),r=t(57776);t(59147);const o=new r.l("queryFullscreenMode","query","5aa77fcd9a5b65f829d8dee4000703ff1a7ff68e813c60999c0b2dce754240e2",null);var s=t(38501),a=t(58685),l=t(75497),c=t(13947),d=t(45627),u=t(5805),m=t(4861),v=t(16581),f=t(85907);const p=()=>{const e=(0,n.NC)(s.WYm,{loadingValue:!1});return(0,a.o)(v.A3)||e};function g(e){return(0,u.v)(e)?{uri:e.uri,name:e.name,creatorName:e.artists[0]?.name,coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,d.p)(e)?{uri:e.uri,name:e.name,creatorName:e.show.name,coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,c.d)(e)?{uri:e.uri,name:e.name,creatorName:e.book.name,coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,l.N)(e)?{uri:e.uri,name:e.title??"",creatorName:e.advertiser??"",coverArtImageUrl:e.images?.[0]?.url,duration:e.duration.milliseconds}:(0,m.v)(e)||void 0===e?void 0:(0,f.d)(e)}function y(e){const i=g(e);return(0,u.v)(e)||(0,d.p)(e)||(0,c.d)(e)||(0,l.N)(e)?{...i,duration:e.duration.milliseconds,mediaType:(t=e.mediaType,"video"===t||"mixed"===t?"video":"audio")}:(0,m.v)(e)||void 0===e?void 0:(0,f.d)(e);var t}function h(e){const i=e?.context.metadata?.context_description,t=e?.context.uri||void 0,n=e?.positionAsOfTimestamp??void 0,r=e?.timestamp,o=e?.isPaused,s=e?.restrictions.canPause,a=e?.restrictions.canResume;return{contextName:i,contextUri:t,position:n,timestamp:r,isPaused:o,canPause:s,canResume:a}}async function x(e,i){return e(o,{artistUri:i}).then((e=>{if("Artist"===e?.data?.artistUnion.__typename)return e.data.artistUnion.visuals.headerImage?.sources[0]?.url})).catch((()=>{}))}function P(e,i,t){if(e&&t&&t.hasLyrics)return{status:i?"loading":"success",content:{provider:t.provider,syncType:t.syncType,lines:t.lyrics.map((e=>({timestamp:Number(e.start),text:e.text})))}}}},66204:(e,i,t)=>{t.d(i,{A:()=>a});var n=t(85387),r=t(90841),o=t(31193),s=t(909);function a({referrer:e,onChange:i}){const t=(0,n.Zp)(),{isActive:a,routeDestination:l}=(0,r.$)(),{setVideoPlayerUIFlag:c}=(0,o.d)(),d=()=>{a||(c(s.n.cinemaLegacy,!1),t(l,{state:{referrer:e}}),i?.(l))},u=()=>{a&&(t(-1),i?.(null))};return{isActive:a,showLyrics:d,hideLyrics:u,toggleLyrics:()=>{a?u():d()}}}},85771:(e,i,t)=>{t.d(i,{x:()=>n.x});var n=t(98676)},92849:(e,i,t)=>{t.d(i,{D:()=>d});var n=t(30758),r=t(86996);var o=t(31193),s=t(909),a=t(89402),l=t(29634),c=t(21549);const d=({item:e,onClick:i})=>{const t=(0,a.W)(),{capabilities:{isEnabled:d},isOpen:u,close:m,open:v,canOpen:f}=(0,l.H)(),{videoPlayerMode:p}=(0,o.d)(),{spec:g,logger:y}=(0,c.r)(r.h9,{data:{identifier:p===s.K.cinemaLegacy?r.gw.CINEMA:r.gw.DESKTOP}}),h=(0,n.useCallback)((()=>{let n;d&&(u?(m(),e?.uri&&y.logInteraction(g.pipButtonFactory({uri:e.uri}).hitUiHide()),n="close-picture-in-picture"):(v(),e?.uri&&(({spec:e,logger:i,uri:t})=>{const n=window.documentPictureInPicture;if(!n)return;const r=o=>{setTimeout((()=>{const n=o.window?.innerWidth,r=o.window?.innerHeight;if(!n||!r)return;const s=e.pipButtonFactory({uri:t}).hitUiOpenWindow({widthPx:n,heightPx:r});i.logInteraction(s)}),100),n.removeEventListener("enter",r)};n.addEventListener("enter",r)})({spec:g,logger:y,uri:e.uri}),n="show-picture-in-picture"),i?.(!u,e?.uri),t({type:"click",intent:n,targetUri:e?.uri,itemIdSuffix:"picture-in-picture-toggle"}))}),[m,d,u,e?.uri,y,i,t,v,g]);return{showButton:f,isActive:u,onClick:h}}},28145:(e,i,t)=>{t.d(i,{A:()=>n});const n={videoPlayerContainer:"ngkFeIGFyNUaxRspbs5H"}}}]);
//# sourceMappingURL=dwp-video-player.js.map